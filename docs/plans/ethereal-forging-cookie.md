# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ LeaderboardScreen v1.6

**–î–∞—Ç–∞:** 2026-02-01
**–°–ø—Ä–∏–Ω—Ç:** 17 (LeaderboardScreen)
**–¢–ó:** [TZ-LeaderboardScreen-v1.6.md](../meta-min/TZ-LeaderboardScreen-v1.6.md)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

## ‚ö†Ô∏è –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ–≤—å—é PR #116 (2026-02-01)

### –†–µ–≤—å—é–≤–µ—Ä—ã –∏ –≤–µ—Ä–¥–∏–∫—Ç—ã (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è)

| –†–µ–≤—å—é–≤–µ—Ä | Iteration 1 | Iteration 2-3 | –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–º–µ—á–∞–Ω–∏—è |
|----------|-------------|---------------|----------------------|
| Claude Opus 4.5 | CHANGES_REQUESTED | ‚úÖ APPROVED | P3: –æ—á–∏—Å—Ç–∫–∞ pending_claim_token |
| Gemini Code Assist | APPROVED* | ‚ùå CHANGES_REQUESTED | P0: Auth Loop, P1: Zero Stats |
| GPT-5 Codex | CHANGES_REQUESTED | ‚úÖ APPROVED | P2: base64url, exp check |
| Lingma | ‚Äî | ‚úÖ APPROVED | –ù–µ—Ç |
| Copilot | COMMENTED | ‚úÖ APPROVED | P2: JWT decoding |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Gemini –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–µ—Ä–Ω—É–ª CHANGES_REQUESTED –∏–∑-–∑–∞:
- P0: `setOnUnauthorized` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ (FIX-006)
- P1: `createDefaultProfile` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (FIX-007)

### ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ: Gemini –ø–æ–ø—Ä–∞–≤–∏–ª –∫–æ–¥

Gemini –≤–Ω—ë—Å 5 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| `matchResultsService.ts:151` | –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `registration_claim_token` –≤ localStorage |
| `main.ts:3796-3798` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–æ–∏—Ö –∫–ª—é—á–µ–π (`registration_claim_token` + `pending_claim_token`) |
| `OAuthProviderSelector.tsx:212-218` | Fallback –Ω–∞ localStorage + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥ –æ–±–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏ |
| `RegistrationPromptModal.tsx:203-224` | Fallback –Ω–∞ localStorage –¥–ª—è effectiveClaimToken |
| `leaderboard.ts:176-196` | –†–∞—Å—á—ë—Ç –ø–æ–∑–∏—Ü–∏–∏ —Å —É—á—ë—Ç–æ–º –≤—Ç–æ—Ä–∏—á–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π Gemini

| # | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|------|--------|-------------|
| 1 | `matchResultsService.ts:152-154` | ‚úÖ OK | –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏ reload |
| 2 | `main.ts:3798-3800, 3821-3822` | ‚úÖ OK | Fallback –Ω–∞ –æ–±–∞ –∫–ª—é—á–∞ + –æ—á–∏—Å—Ç–∫–∞ –æ–±–æ–∏—Ö –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ |
| 3 | `OAuthProviderSelector.tsx:212-218` | ‚ö†Ô∏è P1 | Fallback –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ **—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è** –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω null |
| 4 | `RegistrationPromptModal.tsx:204-207` | ‚úÖ OK | Fallback + –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ canUpgrade |
| 5 | `leaderboard.ts:176-198` | ‚úÖ OK | –†–∞—Å—á—ë—Ç –ø–æ–∑–∏—Ü–∏–∏ —Å `updated_at` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ |

**–†–µ—à–µ–Ω–∏–µ:**
- 4 –∏–∑ 5 –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏–Ω—è—Ç—å
- –î–ª—è `OAuthProviderSelector.tsx` –¥–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ (FIX-002)

---

### –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–º–µ—á–∞–Ω–∏—è (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å)

#### P0 ‚Äî –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (–ë–õ–û–ö–ï–†–´)

| # | FIX | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å |
|---|-----|----------|----------|------|--------|
| 1 | FIX-000 | –ê–Ω–∞–ª–∏–∑ | MatchServer –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç .env.local ‚Üí /claim 404 | `server/src/index.ts` | ‚ùå |
| 2 | FIX-001 | Codex | login() —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π guest_token ‚Üí claim token invalid | `authService.ts` | ‚ùå |
| 3 | FIX-006 | Gemini | setOnUnauthorized —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ ‚Üí Auth Loop | `authService.ts` | ‚ùå |

#### P1 ‚Äî –í–∞–∂–Ω—ã–µ

| # | FIX | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å |
|---|-----|----------|----------|------|--------|
| 4 | FIX-002 | Codex | OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ | `OAuthProviderSelector.tsx` | ‚úÖ |
| 5 | FIX-007 | Gemini | createDefaultProfile –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É | `authService.ts` | ‚ùå |

#### P2 ‚Äî –ö–æ—Å–º–µ—Ç–∏–∫–∞

| # | FIX | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å |
|---|-----|----------|----------|------|--------|
| 6 | FIX-003 | Codex | `atob` –±–µ–∑ base64url –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ | `LeaderboardScreen.tsx` | ‚ùå |
| 7 | FIX-004 | Codex | –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `exp` —Ç–æ–∫–µ–Ω–∞ | `LeaderboardScreen.tsx` | ‚ùå |
| 8 | FIX-005 | ‚Äî | registration_claim_token –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è | `authService.ts` | ‚ùå |

---

### –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (hotfix) ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–æ 2026-02-01

```
FIX-000: –î–æ–±–∞–≤–∏—Ç—å dotenv –≤ MatchServer (–ö–†–ò–¢–ò–ß–ù–û!)
  –§–∞–π–ª—ã: server/src/index.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: MatchServer –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç .env.local ‚Üí MatchResultService disabled
            ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç—á–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è ‚Üí /claim –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
  –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ server/src/index.ts:
    import dotenv from 'dotenv';
    import path from 'path';
    dotenv.config({ path: path.resolve(__dirname, '../.env.local') });
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P0 (–ë–õ–û–ö–ï–†!)

FIX-001: –ù–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–æ—Å—Ç–µ–≤—É—é —Å–µ—Å—Å–∏—é –µ—Å–ª–∏ –µ—Å—Ç—å guest_token (–ö–†–ò–¢–ò–ß–ù–û!)
  –§–∞–π–ª—ã: client/src/services/authService.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ guest_token –≤ localStorage:
            - initialize() –≤—ã–∑—ã–≤–∞–µ—Ç login() ‚Üí —Å–æ–∑–¥–∞—ë—Ç –ù–û–í–´–ô guest_token
            - registration_claim_token —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º
            - /auth/upgrade –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 403 "Claim token does not belong to this guest"
  –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
    1. –í initialize(): –µ—Å–ª–∏ –µ—Å—Ç—å guest_token, –ù–ï –≤—ã–∑—ã–≤–∞—Ç—å login()
    2. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≥–æ—Å—Ç–µ–≤—É—é —Å–µ—Å—Å–∏—é –∏–∑ localStorage –Ω–∞–ø—Ä—è–º—É—é:
       - –ó–∞–≥—Ä—É–∑–∏—Ç—å guest_token, guest_nickname, guest_skin_id
       - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å metaServerClient.setToken(guestToken)
       - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å authState –∫–∞–∫ –≥–æ—Å—Ç—å
    3. –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ guest_token –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –≤—ã–∑—ã–≤–∞—Ç—å login()
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P0 (–ë–õ–û–ö–ï–†!)

FIX-002: –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å OAuth —Ä–µ–¥–∏—Ä–µ–∫—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
  –§–∞–π–ª—ã: client/src/ui/components/OAuthProviderSelector.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –ï—Å–ª–∏ effectiveClaimToken === null –¥–ª—è convert_guest,
            –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
  –°—Ç–∞—Ç—É—Å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–º–º–∏—Ç–µ e50ec1d
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P1

FIX-003: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è base64url –≤ decodeClaimToken
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –ó–∞–º–µ–Ω–∏—Ç—å `-` –Ω–∞ `+`, `_` –Ω–∞ `/`, –¥–æ–±–∞–≤–∏—Ç—å padding
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P2

FIX-004: –ü—Ä–æ–≤–µ—Ä–∫–∞ exp –≤ –≥–æ—Å—Ç–µ–≤–æ–π –ø–ª–∞—à–∫–µ
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫, –æ—á–∏—Å—Ç–∏—Ç—å localStorage –∏ —Å–∫—Ä—ã—Ç—å
            –∫–Ω–æ–ø–∫—É ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å¬ª
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P2

FIX-005: –û—á–∏—Å—Ç–∫–∞ registration_claim_token –ø—Ä–∏ logout/upgrade
  –§–∞–π–ª—ã: client/src/services/authService.ts (clearGuestData, clearAllAuthData)
  –û–ø–∏—Å–∞–Ω–∏–µ: registration_claim_token –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ logout/upgrade
            ‚Üí —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P2

FIX-006: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ setOnUnauthorized –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ (–ö–†–ò–¢–ò–ß–ù–û!)
  –§–∞–π–ª—ã: client/src/services/authService.ts
  –ò—Å—Ç–æ—á–Ω–∏–∫: Gemini Code Assist (–∏—Ç–µ—Ä–∞—Ü–∏—è 2)
  –û–ø–∏—Å–∞–Ω–∏–µ: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ 401 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ.
            –ï—Å–ª–∏ access_token –∏—Å—Ç—ë–∫, fetchProfile() ‚Üí 401 ‚Üí logout() ‚Üí
            —É–¥–∞–ª—è–µ—Ç –í–°–ï —Ç–æ–∫–µ–Ω—ã –≤–∫–ª—é—á–∞—è guest_token ‚Üí OAuth –ø–∞–¥–∞–µ—Ç —Å
            "Missing guest data for convert_guest flow"
  –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
    1. –£–±—Ä–∞—Ç—å metaServerClient.setOnUnauthorized() –∏–∑ –Ω–∞—á–∞–ª–∞ initialize()
    2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å callback –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏
    3. –ü—Ä–∏ –æ—à–∏–±–∫–µ 401 –≤–æ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ access_token,
       –ù–ï –≤—ã–∑—ã–≤–∞—Ç—å logout()
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P0 (–ë–õ–û–ö–ï–†!)

FIX-007: createDefaultProfile –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ ProfileSummary
  –§–∞–π–ª—ã: client/src/services/authService.ts
  –ò—Å—Ç–æ—á–Ω–∏–∫: Gemini Code Assist (–∏—Ç–µ—Ä–∞—Ü–∏—è 2)
  –û–ø–∏—Å–∞–Ω–∏–µ: ProfileSummary —Å —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç gamesPlayed, totalKills,
            highestMass, –Ω–æ createDefaultProfile –∏—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç.
            –ü—Ä–∏ –≤—Ö–æ–¥–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–æ.
  –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
    1. –†–∞—Å—à–∏—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ProfileSummary:
       interface ProfileSummary {
         gamesPlayed?: number;
         totalKills?: number;
         highestMass?: number;
       }
    2. –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É createDefaultProfile:
       function createDefaultProfile(level, xp, summary?: Partial<ProfileSummary>)
    3. –ó–∞–ø–æ–ª–Ω—è—Ç—å –ø–æ–ª—è –∏–∑ summary:
       gamesPlayed: summary?.gamesPlayed || 0,
       totalKills: summary?.totalKills || 0,
       highestMass: summary?.highestMass || 0,
    4. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å profileSummary –≤ createDefaultProfile –≤–Ω—É—Ç—Ä–∏ initialize()
  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: P1
```

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- `client/src/ui/components/LeaderboardScreen.tsx` ‚Äî –±–∞–∑–æ–≤—ã–π —ç–∫—Ä–∞–Ω —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º total/best
- `client/src/services/leaderboardService.ts` ‚Äî —Å–µ—Ä–≤–∏—Å —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `server/src/meta/routes/leaderboard.ts` ‚Äî API —Å myPosition/myValue
- –¢–∞–±–ª–∏—Ü—ã –ë–î: `leaderboard_total_mass`, `leaderboard_best_mass`
- –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ø-3 (–∑–æ–ª–æ—Ç–æ/—Å–µ—Ä–µ–±—Ä–æ/–±—Ä–æ–Ω–∑–∞)
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (is-user)

---

## GAP-–∞–Ω–∞–ª–∏–∑

### P0 ‚Äî –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

| # | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
|---|---------------|-------------------|
| 1 | –ö–Ω–æ–ø–∫–∞ ¬´–õ–∏–¥–µ—Ä—ã¬ª –Ω–∞ LobbyScreen | **–ó–∞–≥–ª—É—à–∫–∞** ‚Äî `handleLeaderboard()` –ø—É—Å—Ç–∞—è (MainScreen.tsx:627) |
| 2 | –ü–ª–∞—à–∫–∞ –∏–≥—Ä–æ–∫–∞: –≥–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å (sticky top/bottom) | **–¢–æ–ª—å–∫–æ —Å–Ω–∏–∑—É** ‚Äî –Ω–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ |
| 3 | –ü–ª–∞—à–∫–∞ –≥–æ—Å—Ç—è Standalone (claimToken/localStorage) | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |
| 4 | –ü–ª–∞—à–∫–∞ Telegram-–∞–Ω–æ–Ω–∏–º–∞ | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |
| 5 | –ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å¬ª –≤ –ø–ª–∞—à–∫–µ | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |

### P1 ‚Äî –í–∞–∂–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏

| # | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
|---|---------------|-------------------|
| 6 | –ö–Ω–æ–ø–∫–∞ ¬´–õ–∏–¥–µ—Ä—ã¬ª –Ω–∞ MatchmakingScreen | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** ‚Äî –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ MainMenu |
| 7 | matchesPlayed –≤ entries API | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** ‚Äî SQL –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç |
| 8 | myMatchesPlayed –≤ –æ—Ç–≤–µ—Ç–µ API | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |
| 9 | –ú–∏–Ω–∏–∞—Ç—é—Ä–∞ —Å–∫–∏–Ω–∞ –≤ —Å—Ç—Ä–æ–∫–µ | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** ‚Äî skinId –ø—Ä–∏—Ö–æ–¥–∏—Ç, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è |
| 10 | –°—Ç–æ–ª–±–µ—Ü matchesPlayed —Ç–æ–ª—å–∫–æ –≤ mode=total | **–ß–∞—Å—Ç–∏—á–Ω–æ** ‚Äî gamesPlayed –ø–æ–∫–∞–∑–∞–Ω, –Ω–æ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç |
| 11 | –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Ç—á–∞ | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |
| 12 | –í—Ç–æ—Ä–∏—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ updated_at | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |

### P2 ‚Äî –ö–æ—Å–º–µ—Ç–∏–∫–∞

| # | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
|---|---------------|-------------------|
| 13 | –ù–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ ¬´–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π¬ª/¬´–†–µ–∫–æ—Ä–¥–Ω—ã–π¬ª | –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è ¬´–í—Å–µ–≥–æ –æ—á–∫–æ–≤¬ª/¬´–õ—É—á—à–∏–π –º–∞—Ç—á¬ª |
| 14 | –†–µ–∑–µ—Ä–≤–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º ¬´–ò–≥—Ä–æ–∫¬ª + 4 —Å–∏–º–≤–æ–ª–∞ ID | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |
| 15 | –°–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** |

---

## –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –∑–∞–¥–∞—á–∏ Beads

### –§–∞–∑–∞ 1: –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (P0)

```
LB-001: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LeaderboardScreen –≤ UIBridge
  –§–∞–π–ª—ã: client/src/ui/UIBridge.tsx, client/src/ui/signals/gameState.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ showLeaderboard + —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ LeaderboardScreen

LB-002: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ ¬´–õ–∏–¥–µ—Ä—ã¬ª –≤ MainScreen
  –§–∞–π–ª—ã: client/src/ui/components/MainScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å handleLeaderboard() ‚Üí setShowLeaderboard(true)
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-001

LB-003: –ö–Ω–æ–ø–∫–∞ ¬´–õ–∏–¥–µ—Ä—ã¬ª –≤ MainMenu (MatchmakingScreen)
  –§–∞–π–ª—ã: client/src/ui/components/MainMenu.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫—É –ª–∏–¥–µ—Ä–æ–≤ —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ù–∞–∑–∞–¥¬ª
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-001
```

### –§–∞–∑–∞ 2: Backend API (P0-P1)

```
LB-004: matchesPlayed –∏ skinId –≤ entries
  –§–∞–π–ª—ã: server/src/meta/routes/leaderboard.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å matches_played –∏–∑ leaderboard_total_mass –≤ SQL,
            –≤–∫–ª—é—á–∏—Ç—å skinId –≤ –æ—Ç–≤–µ—Ç (—É–∂–µ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è, –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å)

LB-005: myMatchesPlayed –≤ –æ—Ç–≤–µ—Ç–µ API
  –§–∞–π–ª—ã: server/src/meta/routes/leaderboard.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å myMatchesPlayed –ø—Ä–∏ mode=total
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-004

LB-006: –í—Ç–æ—Ä–∏—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ updated_at
  –§–∞–π–ª—ã: server/src/meta/routes/leaderboard.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: ORDER BY mass DESC, updated_at DESC

LB-007: –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –≤ leaderboardService
  –§–∞–π–ª—ã: client/src/services/leaderboardService.ts
  –û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å matchesPlayed, skinId –≤ —Ç–∏–ø—ã
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-004
```

### –§–∞–∑–∞ 3: –ü–ª–∞—à–∫–∞ –∏–≥—Ä–æ–∫–∞ ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–∞—è (P0)

```
LB-008: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞—à–∫–∏ ‚Äî –≥–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ:
    - –î–æ–±–∞–≤–∏—Ç—å IntersectionObserver –¥–ª—è —Å—Ç—Ä–æ–∫–∏ –∏–≥—Ä–æ–∫–∞
    - –ü–ª–∞—à–∫–∞ sticky top –∫–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∞ –≤—ã—à–µ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
    - –ü–ª–∞—à–∫–∞ sticky bottom –∫–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∞ –Ω–∏–∂–µ –∏–ª–∏ –∏–≥—Ä–æ–∫ –≤–Ω–µ —Ç–æ–ø-100
    - –°–∫—Ä—ã—Ç—å –ø–ª–∞—à–∫—É –∫–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ

LB-009: –ü–ª–∞—à–∫–∞ –≥–æ—Å—Ç—è Standalone
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ:
    - –ß–∏—Ç–∞—Ç—å claimToken –∏–∑ localStorage
    - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å guest_skin_id, guest_nickname, finalMass
    - Fallback –Ω–∞ last_match_mass –µ—Å–ª–∏ claimToken –∏—Å—Ç—ë–∫

LB-010: –ü–ª–∞—à–∫–∞ Telegram-–∞–Ω–æ–Ω–∏–º–∞
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Telegram –ø—Ä–æ—Ñ–∏–ª—è + is_anonymous
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-009

LB-011: –ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å¬ª
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ:
    - –î–ª—è –≥–æ—Å—Ç—è Standalone ‚Üí –æ—Ç–∫—Ä—ã—Ç—å OAuthProviderSelector
    - –î–ª—è Telegram-–∞–Ω–æ–Ω–∏–º–∞ ‚Üí –æ—Ç–∫—Ä—ã—Ç—å NicknameEditModal
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-009, LB-010

LB-012: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ upgrade ‚Üí refresh leaderboard
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-011
```

### –§–∞–∑–∞ 4: UI —É–ª—É—á—à–µ–Ω–∏—è (P1)

```
LB-013: –ú–∏–Ω–∏–∞—Ç—é—Ä–∞ —Å–∫–∏–Ω–∞ –≤ —Å—Ç—Ä–æ–∫–µ
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ:
    - –°–æ–∑–¥–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ skinId ‚Üí –ø—É—Ç—å –∫ —Å–ø—Ä–∞–π—Ç—É
    - –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å 32x32 –º–∏–Ω–∏–∞—Ç—é—Ä—É –ø–µ—Ä–µ–¥ –Ω–∏–∫–Ω–µ–π–º–æ–º
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-007

LB-014: –£—Å–ª–æ–≤–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü matchesPlayed
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ mode=total
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-007

LB-015: –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Ç—á–∞
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: useEffect –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ matchmakingStatus ‚Üí onClose()
  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: LB-001
```

### –§–∞–∑–∞ 5: –ö–æ—Å–º–µ—Ç–∏–∫–∞ (P2)

```
LB-016: –ù–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ –ø–æ –¢–ó
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: ¬´–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π¬ª / ¬´–†–µ–∫–æ—Ä–¥–Ω—ã–π¬ª

LB-017: –†–µ–∑–µ—Ä–≤–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: nickname || '–ò–≥—Ä–æ–∫' + userId.slice(-4)

LB-018: –°–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
  –§–∞–π–ª—ã: client/src/ui/components/LeaderboardScreen.tsx
  –û–ø–∏—Å–∞–Ω–∏–µ: leaderboard_viewed, tab_switched, save_progress_clicked
```

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `client/src/ui/components/LeaderboardScreen.tsx` | –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: –ø–ª–∞—à–∫–∞, —Å–∫–∏–Ω—ã, matchesPlayed |
| `client/src/ui/UIBridge.tsx` | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ LeaderboardScreen |
| `client/src/ui/components/MainScreen.tsx` | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å handleLeaderboard() |
| `client/src/ui/components/MainMenu.tsx` | –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–õ–∏–¥–µ—Ä—ã¬ª |
| `server/src/meta/routes/leaderboard.ts` | API: matchesPlayed, myMatchesPlayed, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ |
| `client/src/services/leaderboardService.ts` | –¢–∏–ø—ã: matchesPlayed, skinId |

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–û–ë–ù–û–í–õ–ï–ù–û)

### üö® Batch 0: HOTFIX ‚Äî –ë–ª–æ–∫–µ—Ä—ã OAuth (–°–ù–ê–ß–ê–õ–ê!)

```
1. FIX-000: dotenv –≤ MatchServer
   - server/src/index.ts ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É .env.local

2. FIX-001 + FIX-006: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ authService.initialize()
   - –£–±—Ä–∞—Ç—å setOnUnauthorized –∏–∑ –Ω–∞—á–∞–ª–∞
   - –ï—Å–ª–∏ –µ—Å—Ç—å guest_token ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏—é –ë–ï–ó login()
   - –ï—Å–ª–∏ –µ—Å—Ç—å access_token ‚Äî –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è fetchProfile()
   - –ü—Ä–∏ 401 ‚Äî —É–¥–∞–ª–∏—Ç—å –¢–û–õ–¨–ö–û access_token, –Ω–µ logout()
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å setOnUnauthorized –ü–û–°–õ–ï —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

3. FIX-007: createDefaultProfile —Å ProfileSummary
   - –†–∞—Å—à–∏—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ProfileSummary
   - –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å stats –≤ createDefaultProfile
```

### Batch 1 (P0 ‚Äî LeaderboardScreen —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞)
1. LB-001 ‚Üí LB-002 ‚Üí LB-003 (—Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞)
2. LB-004 ‚Üí LB-005 ‚Üí LB-007 (API –¥–∞–Ω–Ω—ã–µ)

### Batch 2 (P0 ‚Äî –ø–ª–∞—à–∫–∞)
3. LB-008 (–≥–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å)
4. LB-009 ‚Üí LB-010 ‚Üí LB-011 ‚Üí LB-012 (—Ç–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

### Batch 3 (P1 ‚Äî —É–ª—É—á—à–µ–Ω–∏—è)
5. LB-006 (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
6. LB-013 ‚Üí LB-014 (UI —Å—Ç—Ä–æ–∫–∏)
7. LB-015 (–∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ)

### Batch 4 (P2 ‚Äî –ø–æ–ª–∏—Ä–æ–≤–∫–∞)
8. FIX-003, FIX-004, FIX-005
9. LB-016, LB-017, LB-018

---

## –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

### –¢–µ—Å—Ç 1: –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞
1. –û—Ç–∫—Ä—ã—Ç—å MainScreen ‚Üí –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É ¬´–õ–∏–¥–µ—Ä—ã¬ª ‚Üí —ç–∫—Ä–∞–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
2. –û—Ç–∫—Ä—ã—Ç—å MainMenu ‚Üí –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É ¬´–õ–∏–¥–µ—Ä—ã¬ª ‚Üí —ç–∫—Ä–∞–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. –í–æ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –º–∞—Ç—á–∞ ‚Üí –º–∞—Ç—á –Ω–∞–π–¥–µ–Ω ‚Üí —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### –¢–µ—Å—Ç 2: –ü–ª–∞—à–∫–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ
1. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏–≥—Ä–æ–∫ –≤ —Ç–æ–ø-100
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑
3. –ü–ª–∞—à–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É –∫–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∞ –Ω–µ –≤–∏–¥–Ω–∞
4. –ü–ª–∞—à–∫–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–Ω–∞

### –¢–µ—Å—Ç 3: –ü–ª–∞—à–∫–∞ –≥–æ—Å—Ç—è Standalone
1. –°—ã–≥—Ä–∞—Ç—å –º–∞—Ç—á –∫–∞–∫ –≥–æ—Å—Ç—å
2. –û—Ç–∫—Ä—ã—Ç—å LeaderboardScreen
3. –ü–ª–∞—à–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ claimToken
4. –ù–∞–∂–∞—Ç—å ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è OAuthProviderSelector

### –¢–µ—Å—Ç 4: –ü–ª–∞—à–∫–∞ Telegram-–∞–Ω–æ–Ω–∏–º–∞
1. –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram (is_anonymous = true)
2. –û—Ç–∫—Ä—ã—Ç—å LeaderboardScreen
3. –ü–ª–∞—à–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∏–∫–Ω–µ–π–º –∏–∑ Telegram
4. –ù–∞–∂–∞—Ç—å ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è NicknameEditModal

### –¢–µ—Å—Ç 5: API –¥–∞–Ω–Ω—ã–µ
1. GET /api/v1/leaderboard?mode=total
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: entries —Å–æ–¥–µ—Ä–∂–∞—Ç matchesPlayed, skinId
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç myMatchesPlayed (–µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)

---

## –û—Ü–µ–Ω–∫–∞ –æ–±—ä—ë–º–∞

| –§–∞–∑–∞ | –ó–∞–¥–∞—á–∏ | –ß–∞—Å—ã |
|------|--------|------|
| –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ | 3 | 4—á |
| Backend API | 4 | 4—á |
| –ü–ª–∞—à–∫–∞ –∏–≥—Ä–æ–∫–∞ | 5 | 12—á |
| UI —É–ª—É—á—à–µ–Ω–∏—è | 3 | 4—á |
| –ö–æ—Å–º–µ—Ç–∏–∫–∞ | 3 | 2—á |
| **–ò—Ç–æ–≥–æ** | **18** | **~26—á** |

–° —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ code review: **~35-40 —á–∞—Å–æ–≤** (4-5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π).
