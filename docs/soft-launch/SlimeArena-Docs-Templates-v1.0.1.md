# Slime Arena — Шаблоны документов и правила оформления

**Версия:** 1.0.1  
**Дата:** 5 января 2026  

---

## 1. Общие правила

1. Язык: русский. Технические названия (`class`, `file`, `endpoint`, `field`) — на английском.
2. Требования формулировать через `[MUST]/[SHOULD]/[MAY]`.
3. Сложную логику описывать нумерованными шагами (1…N).
4. Структуры данных фиксировать таблицами полей и типов или формальными схемами (JSON Schema, SQL DDL).
5. Примеры кода приложения запрещены. Разрешены только контракты (схемы данных).
6. Неопределённости выносить в «Открытые вопросы».

Правила именования требований:
- `REQ-<DOC>-NNN` — требование (NNN: 001…999).
- `ACC-<DOC>-NNN` — критерий приёмки.
- `DOC` MUST быть коротким идентификатором: `ARCH`, `SL`, `PLAN`, `API` и т.п.

---

## 2. Шаблон: Архитектура

### 2.1. Резюме (1 экран)

- Назначение системы.
- Главные ограничения (платформы, сеть, безопасность экономики).
- Что является источником правды.

### 2.2. Структура (оглавление)

1. Назначение
2. Источники правды
3. Цели архитектуры
4. Контекст системы
5. Компоненты и границы ответственности
6. Контракты данных и границы модулей
7. Основные потоки (вход, матч, покупка, награда)
8. Устойчивость и восстановление
9. Наблюдаемость
10. Безопасность
11. Сборка, развёртывание, окружения
12. Открытые вопросы
13. История изменений
14. Глоссарий

### 2.3. Формат требований

- Требования в тексте: `[MUST]/[SHOULD]/[MAY]`.
- Для требований, на которые будет ссылаться тестирование: `REQ-ARCH-XXX`.
- Для критериев приёмки: `ACC-ARCH-XXX`.

---

## 3. Шаблон: ТЗ на релиз (Soft Launch)

### 3.1. Структура (оглавление)

1. Назначение
2. Область поставки (что входит / что не входит)
3. Платформы и окружения
4. Функциональные требования (REQ)
5. Нефункциональные требования (REQ)
6. Контракты данных (таблицы/схемы)
7. Контракты API (таблицы/схемы)
8. Конфигурации и правила версионирования
9. План тестирования и критерии приёмки (ACC)
10. Риски
11. Открытые вопросы
12. История изменений
13. Глоссарий

### 3.2. Формат требований

- `REQ-SL-XXX` — требование.
- `ACC-SL-XXX` — проверяемый критерий приёмки.
- Любая операция с ценностью MUST иметь `operationId` и правила идемпотентности.

---

## 4. Шаблон: Диагностика проблемы (для ИИ-агентов)

1. Симптом
2. Ожидаемое поведение (ссылка на REQ/ACC)
3. Фактическое поведение (где проявляется)
4. Локализация (файл/модуль/endpoint/таблица)
5. Причина (гипотеза)
6. Минимальная правка (без рефакторинга)
7. Риски
8. Проверки (какие тесты добавить/прогнать)
9. Открытые вопросы



---

## 5. Шаблон конфигурационного файла (контракт)

Требования к любому файлу конфигурации `RuntimeConfig`:

1. `[MUST]` Обёртка конфигурации MUST содержать `schemaVersion`, `configVersion`, `generatedAt`, `payload`.
2. `[MUST]` `schemaVersion` меняется только при ломающих изменениях схемы.
3. `[MUST]` `configVersion` уникален в пределах окружения и используется для отката.

Допустимый формат фиксации схемы: JSON Schema.

### 5.1. JSON Schema (обёртка)

```json
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "required": ["schemaVersion", "configVersion", "generatedAt", "payload"],
  "properties": {
    "schemaVersion": {"type": "string"},
    "configVersion": {"type": "string"},
    "generatedAt": {"type": "string", "format": "date-time"},
    "payload": {"type": "object"}
  },
  "additionalProperties": false
}
```

## 6. Шаблон отчёта о тестировании (Test Report)

1. Контекст: версия клиента/сервера, `configVersion`, окружение (`stage`/`prod`).
2. Покрытие: список `REQ-*`/`ACC-*`.
3. Результаты: таблица тестов (id, название, статус, ссылка на лог/артефакт).
4. Дефекты: список (id, приоритет P0/P1/P2, краткое описание, ссылка на требования).
5. Решение: допуск к релизу / запрет релиза с причинами.
