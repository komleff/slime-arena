# Git Hooks для защиты ветки main

Эта директория содержит Git hooks, которые защищают ветку `main` от прямых коммитов и отправок на локальном уровне.

## Установка

После клонирования репозитория необходимо установить hooks:

### Linux / macOS

```bash
./.githooks/install.sh
```

### Windows (PowerShell)

```powershell
.\.githooks\install.ps1
```

### Windows (Command Prompt)

```batch
.githooks\install.bat
```

## Что делает hook?

Hook `pre-push` проверяет попытки отправки изменений в ветки `main` или `master` и блокирует их, выводя понятное сообщение об ошибке с инструкциями по правильному процессу работы.

## Обход защиты

Если по какой-то причине вам необходимо отправить изменения напрямую в main (например, для экстренного исправления), вы можете обойти hook:

```bash
git push --no-verify origin main
```

**⚠️ Внимание:** Обход локальной защиты не отменяет защиту на уровне GitHub. Если в настройках репозитория включена защита ветки, отправка будет отклонена сервером.

## Дополнительная защита

Для полной защиты ветки необходимо также настроить правила защиты в GitHub. См. документацию: [.github/BRANCH_PROTECTION.md](../.github/BRANCH_PROTECTION.md)

## Удаление hooks

Если нужно удалить hooks:

```bash
git config --unset core.hooksPath
```
