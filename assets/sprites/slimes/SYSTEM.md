# –°–ª–∞–π–º-—Å–ø—Ä–∞–π—Ç—ã | Skin System

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
assets/sprites/slimes/
‚îú‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ INTEGRATION_EXAMPLE.md       # –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ base/                        # –ë–∞–∑–æ–≤—ã–µ —Å–ø—Ä–∞–π—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ slime-idle.png
‚îÇ   ‚îú‚îÄ‚îÄ slime-moving.png
‚îÇ   ‚îú‚îÄ‚îÄ slime-eating.png
‚îÇ   ‚îî‚îÄ‚îÄ slime-damaged.png
‚îú‚îÄ‚îÄ warrior/                     # –°–ø–µ—Ü-—Å–ø—Ä–∞–π—Ç—ã Warrior –∫–ª–∞—Å—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ warrior-idle.png
‚îÇ   ‚îú‚îÄ‚îÄ warrior-moving.png
‚îÇ   ‚îú‚îÄ‚îÄ warrior-attacking.png
‚îÇ   ‚îî‚îÄ‚îÄ warrior-damaged.png
‚îî‚îÄ‚îÄ collector/                   # –°–ø–µ—Ü-—Å–ø—Ä–∞–π—Ç—ã Collector –∫–ª–∞—Å—Å–∞
    ‚îú‚îÄ‚îÄ collector-idle.png
    ‚îú‚îÄ‚îÄ collector-moving.png
    ‚îú‚îÄ‚îÄ collector-absorbing.png
    ‚îî‚îÄ‚îÄ collector-damaged.png
```

## üé® –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞–π—Ç–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**Backend:**
- `server/src/rooms/schema/Player.ts` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç `classId` (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∞—Å—Å)
- `Colyseus` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç `classId` –Ω–∞ –∫–ª–∏–µ–Ω—Ç

**Frontend:**
- `shared/src/sprites.ts` ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–π—Ç–∞–º–∏
  - `SLIME_SPRITES` ‚Äî –º–∞–ø–ø–∏–Ω–≥ classId ‚Üí —Å–ø—Ä–∞–π—Ç—ã
  - `loadSprite()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - `getPlayerSprite()` ‚Äî –≤—ã–±–æ—Ä —Å–ø—Ä–∞–π—Ç–∞ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é
- `client/src/main.ts` ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤ —Å–æ —Å–ø—Ä–∞–π—Ç–∞–º–∏

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
const SPRITE_CACHE = new Map<string, HTMLImageElement>();

// –°–ø—Ä–∞–π—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
await loadSprite("/sprites/slimes/base/slime-idle.png");
```

## üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–ø—Ä–∞–π—Ç–∞–º

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–§–æ—Ä–º–∞—Ç** | PNG + Alpha (RGBA) |
| **–†–∞–∑–º–µ—Ä** | 256√ó256 –ø–∏–∫—Å–µ–ª–µ–π |
| **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ** | –°–ª–∞–π–º –≤ —Ü–µ–Ω—Ç—Ä–µ —Å–ø—Ä–∞–π—Ç–∞ |
| **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** | –§–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π |
| **–ö–∞—á–µ—Å—Ç–≤–æ** | –ú–∏–Ω–∏–º—É–º 96 DPI |

## üîÑ –°–æ—Å—Ç–æ—è–Ω–∏—è

### Base –∫–ª–∞—Å—Å (classId = 0)

```
idle    ‚Äî —Å–ø–æ–∫–æ–π–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
moving  ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ (–Ω–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞)
eating  ‚Äî –ø–æ–µ–¥–∞–Ω–∏–µ –æ—Ä–±–∞
damaged ‚Äî –ø–æ–ª—É—á–µ–Ω —É—Ä–æ–Ω / Last Breath / Dead
```

### Warrior –∫–ª–∞—Å—Å (classId = 1)

```
idle      ‚Äî —Å–ø–æ–∫–æ–π–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
moving    ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ
attacking ‚Äî —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ –∞—Ç–∞–∫–∏ / Last Breath
damaged   ‚Äî –ø–æ–ª—É—á–µ–Ω —É—Ä–æ–Ω / Dead
```

### Collector –∫–ª–∞—Å—Å (classId = 2)

```
idle       ‚Äî —Å–ø–æ–∫–æ–π–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
moving     ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ
absorbing  ‚Äî –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ –æ—Ä–±–æ–≤ (–±–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å)
damaged    ‚Äî –ø–æ–ª—É—á–µ–Ω —É—Ä–æ–Ω / Last Breath / Dead
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1Ô∏è‚É£ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
import { loadClassSprites } from "@slime-arena/shared";

// –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø—Ä–∞–π—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤
await Promise.all([
    loadClassSprites(0), // Base
    loadClassSprites(1), // Warrior
    loadClassSprites(2), // Collector
]);
```

### 2Ô∏è‚É£ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥

```typescript
import { getPlayerSprite, SPRITE_CACHE } from "@slime-arena/shared";

// –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∏–≥—Ä–æ–∫–∞:
const state = player.isMoving ? "moving" : "idle";
const spriteUrl = getPlayerSprite(player.classId, state);
const img = SPRITE_CACHE.get(spriteUrl);

if (img) {
    ctx.drawImage(img, screenX - radius, screenY - radius, radius * 2, radius * 2);
}
```

### 3Ô∏è‚É£ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```typescript
// –ï—Å–ª–∏ —Å–ø—Ä–∞–π—Ç—ã —á—ë—Ä–Ω–æ-–±–µ–ª—ã–µ, –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç:
ctx.globalCompositeOperation = "multiply";
ctx.fillStyle = playerColor; // "#9be070" –¥–ª—è Base
ctx.fillRect(0, 0, width, height);
```

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ (Canvas circles)

```typescript
// –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è drawCircle():
drawCircle(p.x, p.y, radius, color, stroke);
```

### –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–ø—Ä–∞–π—Ç–æ–≤

```typescript
// –í–º–µ—Å—Ç–æ drawCircle() –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
drawPlayerWithSprite(ctx, player, p.x, p.y, radius);
```

## üé® –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫ –¥–∏–∑–∞–π–Ω—É

### Warrior

- –®–∏–ø—ã/–∫–æ–ª—é—á–∫–∏ –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É
- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –ø–æ–∑–∞ —Ç–µ–ª–∞
- –¢—ë–º–Ω—ã–µ, "–±–æ–µ–≤—ã–µ" —Ü–≤–µ—Ç–∞
- –ó–Ω–∞–∫ "X" –∏–ª–∏ ">" –¥–ª—è –∞—Ç–∞–∫–∏

### Collector

- –ì–ª–∞–¥–∫–∞—è –æ–∫—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞
- –ü–∞—Å—Å–∏–≤–Ω—ã–π –≤–∏–¥
- –°–≤–µ—Ç–ª—ã–µ, —Å–ø–æ–∫–æ–π–Ω—ã–µ —Ü–≤–µ—Ç–∞
- –ê—É—Ä–∞/—Å–≤–µ—á–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥

### Base

- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–∏–¥
- –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è –ø–æ–∑–∞
- –°—Ä–µ–¥–Ω–∏–µ —Ä–∞–∑–º–µ—Ä—ã
- –ß–∏—Å—Ç—ã–π –¥–∏–∑–∞–π–Ω

## üìù –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤

- [ ] 9 —Å–ø—Ä–∞–π—Ç–æ–≤ (3 –∫–ª–∞—Å—Å–∞ √ó 3 —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- [ ] –í—Å–µ —Ä–∞–∑–º–µ—Ä—ã 256√ó256 –ø–∏–∫—Å–µ–ª–µ–π
- [ ] PNG —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
- [ ] –°–ª–∞–π–º –ø–æ —Ü–µ–Ω—Ç—Ä—É –∫–∞–∂–¥–æ–≥–æ —Å–ø—Ä–∞–π—Ç–∞
- [ ] –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —á–µ—Ç–∫–∞—è
- [ ] –°–ø—Ä–∞–π—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é (CSS/Canvas)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–∫—Ä–∏–Ω–∞—Ö —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤

## üîÆ –ë—É–¥—É—â–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- [ ] –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–∫–∏–Ω—ã (–ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ, –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ)
- [ ] –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã (—à–ª—è–ø—ã, —É–∫—Ä–∞—à–µ–Ω–∏—è)
- [ ] –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø—Ä–∞–π—Ç—ã (multiple frames + timing)
- [ ] –≠—Ñ—Ñ–µ–∫—Ç—ã —á–∞—Å—Ç–∏—Ü (trail, explosion, heal)
- [ ] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º (RGB color codes)
