{"id":"slime-arena-1wl","title":"A/B: метрики для mobile controls","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T21:22:41.7050131+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T21:22:41.7050131+07:00","comments":[{"id":4,"issue_id":"slime-arena-1wl","author":"komle","text":"Связана с задачей slime-arena-4p4\nНо хотелось бы расширить на возможность A/B-тестирования любых вариантов конфигов.\nПри создании профиля нового игрока в зависимости от стратегии (чет-нечет, случайный, по когортам) присваивать ему A или B версию конфига игры, в которых могут отличаться тестируемые параметры.","created_at":"2026-01-08T14:53:30Z"},{"id":7,"issue_id":"slime-arena-1wl","author":"komle","text":"Sprint-Next-Mobile-Controls-Plan.md\nв этом документе указаны параметры для AB-теста. если есть возможность, то хечется добавить и третий вариант C с текущими настройками управления.","created_at":"2026-01-09T00:53:00Z"}]}
{"id":"slime-arena-2wq","title":"UI Refactoring Phase 2 - UIBridge интеграция","description":"Интеграция UIBridge с Preact компонентами. Текущий фокус из GitHub Project.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-09T19:19:49.5930526+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T19:19:49.5930526+07:00"}
{"id":"slime-arena-38q","title":"Рефакторинг main.ts: разделение UI, рендеринга и сетей","description":"**Местоположение:**\n- Файл: client/src/main.ts (4958 строк)\n\n**Требование из ТЗ:**\n\u003e Раздел Architecture Part 1: Чёткое разделение ответственности: клиент (ввод), рендеринг (отрисовка), сеть (синхронизация)\n\n**Проблема:**\nmain.ts смешивает Canvas рендеринг, UI логику, обработку сетевых событий и управление состоянием. Невозможно переиспользовать компоненты.\n\n**Последствия:**\n- Сложность поддержки и расширения\n- Дублирование кода при добавлении новых режимов\n- Сложность тестирования отдельных систем\n\n**Воспроизведение:**\nПопытайся выделить렌 отдельный класс для сетевой синхронизации → придётся распутывать 500+ строк interdependencies\n\n**Связанные компоненты:**\n- client/src/rendering/\n- client/src/input/\n- client/src/services/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:17:50.7706921+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T01:46:35.085591+07:00","closed_at":"2026-01-09T01:46:35.085591+07:00","close_reason":"PR #58 merged. InputManager интегрирован в main.ts (−416 строк).","comments":[{"id":5,"issue_id":"slime-arena-38q","author":"FRACTAL-XL\\komle","text":"Sprint 11 progress: InputManager module created (client/src/input/InputManager.ts, 550 строк). Commit c518372. Integration into main.ts deferred - requires global state refactor.","created_at":"2026-01-08T17:15:21Z"}]}
{"id":"slime-arena-4md","title":"[Epic] Лидерборды","description":"**Требование:** TZ 5.10\n\n**Текущее состояние:** Только таблица БД player_ratings с индексом\n\n**Необходимо реализовать:**\n1. LeaderboardService с методами:\n   - getLeaderboard(seasonId, mode, page)\n   - getPlayerRank(userId, seasonId, mode)\n   - updateRatings(matchResult)\n2. Алгоритм Glicko-2 (systemId=glicko2, initialRating=1500)\n3. API маршрут GET /api/v1/leaderboards\n4. Redis кеширование для оптимизации\n5. Конфиг config/leaderboards.json\n6. Интеграция с MatchResultService для пересчёта рейтинга\n7. UI на клиенте (экран лидерборда)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-09T08:05:38.6005748+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T08:05:38.6005748+07:00"}
{"id":"slime-arena-4p4","title":"A/B: интеграция выбора варианта на уровне матча","description":"**Местоположение:**\n- Файл: server/src/meta/services/MatchmakingService.ts\n- Связанные: config/experiments/mobile-controls-ab.json\n\n**Требование из плана:**\n\u003e Sprint-Next-Mobile-Controls-Plan.md Section 4.4 Step 2\n\n**Решение:**\n1. При создании матча определить A/B вариант через ABTestService\n2. Передать вариант в MatchServer\n3. Применить override параметров к BalanceConfig\n4. Зафиксировать вариант на весь матч","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T21:23:05.0195967+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T21:23:05.0195967+07:00","comments":[{"id":3,"issue_id":"slime-arena-4p4","author":"komle","text":"Предлагаю помимо двух новых вариантов добавить третий - текущие настройки управления. \nНазавать это ABC-тестированием управления.\nПозволить игроку перед матчем выбирать один из трех вариантов - A-B-C (кнопку выбора добавить в лобби рядом с выбором класса).","created_at":"2026-01-08T14:49:17Z"}]}
{"id":"slime-arena-5qa","title":"A/B Testing System (Epic)","description":"**Местоположение:**\n- ТЗ: docs/soft-launch/TZ-ABTesting-ClaudeOpus-v1.3.md\n- Сервер: server/src/meta/services/\n- Конфиг: config/abtests.json (создать)\n\n**Требование из ТЗ:**\n\u003e TZ-ABTesting-ClaudeOpus-v1.3 — полная спецификация системы A/B тестирования\n\n**Описание:**\nАрхитектура Base+Overlay для экспериментов с параметрами баланса, управления, монетизации.\n- Детерминированное назначение вариантов (SHA-256 hash)\n- Уровни применения: profile, session, match\n- Разделение очередей матчмейкинга по matchConfigKey\n- Guardrails для автоматической остановки\n\n**Фазы внедрения:**\n1. MVP: схема БД, ConfigResolver, AssignmentService, API\n2. Расширение: admin UI, переопределения, guardrails\n3. Масштабирование: сегментация, автозавершение\n\n**Первый эксперимент:**\nmobile-controls-v1 (два варианта настроек управления)\n\n**Связанные задачи:**\n- slime-arena-4p4: интеграция выбора варианта на уровне матча\n- slime-arena-1wl: метрики для mobile controls","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-09T01:42:26.758296+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T01:42:26.758296+07:00"}
{"id":"slime-arena-66m","title":"Тесты идемпотентности для Stage D","description":"**Местоположение:**\n- server/tests/meta-stage-d.test.ts\n- server/tests/determinism.test.js\n\n**Требование из ТЗ:**\n\u003e Раздел Architecture Part 3: Все операции MetaServer должны быть идемпотентными (повторные запросы = нет побочных эффектов)\n\n**Проблема:**\nНужны автоматические тесты для проверки:\n- Дублирование submit matchResults не создаёт двойные награды\n- Повторная транзакция кошелька не обрабатывается дважды\n- Повторный claim приза не даёт двойное количество\n\n**Последствия:**\n- Без тестов невозможно гарантировать защиту от network retries\n- Риск потери данных или двойных платежей\n\n**Связанные компоненты:**\n- server/src/meta/services/WalletService.ts\n- server/src/meta/routes/matchResults.ts\n- server/src/services/MatchResultService.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T16:18:18.0253689+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T16:54:03.7791389+07:00","closed_at":"2026-01-08T16:54:03.7791389+07:00","close_reason":"Добавлены тесты 6.3 (ads claim idempotency) и 6.4 (shop purchase idempotency). TypeScript компилируется."}
{"id":"slime-arena-6hn","title":"Добавить LEVEL_THRESHOLDS в balance.json","description":"**Местоположение:**\nФайл: client/src/ui/components/GameHUD.tsx\nФайл: config/balance.json\n\n**Требование из ТЗ:**\nРаздел Баланс: Все числовые параметры должны быть в конфиге, не в коде\n\n**Проблема:**\nLEVEL_THRESHOLDS (пороги уровней) жёстко закодированы в GameHUD.tsx. Это усложняет балансировку и отладку.\n\n**Последствия:**\n- Невозможно менять пороги уровней без редактирования кода\n- Нарушение принципа конфигурируемости баланса\n\n**Решение:**\nПеренести в config/balance.json и загружать через loadBalanceConfig\n\n**Связанные компоненты:**\n- server/src/config/loadBalanceConfig.ts\n- shared/src/config.ts\n- client/src/services/configService.ts","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T16:17:54.6138986+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T22:01:34.9026227+07:00","closed_at":"2026-01-08T22:01:34.9026227+07:00","close_reason":"PR #54 + commit 7804a12 merged to main"}
{"id":"slime-arena-6u0","title":"Реализовать IAdsProvider на клиенте","description":"**Требование:** TZ 5.8.1 — Реклама с наградой\n\n**Местоположение:**\n- client/src/platform/\n\n**Проблема:**\nНет интерфейса для показа рекламы на клиенте. PlatformManager управляет только IAuthAdapter, но не IAdsProvider.\n\n**Последствия:**\n- Невозможно показать rewarded ads пользователю\n- Функционал рекламы с наградой недоступен в софт-лонче\n\n**Решение:**\n1. Создать client/src/platform/IAdsProvider.ts с методами showRewardedAd(), isAdReady()\n2. Реализовать TelegramAdsProvider (Telegram Ads API)\n3. Реализовать YandexAdsProvider (Yandex Games SDK)\n4. Реализовать PokiAdsProvider (Poki SDK)\n5. Интегрировать в PlatformManager\n6. Добавить UI кнопку 'Смотреть рекламу' с обработкой\n\n**Связанные компоненты:**\n- server/src/meta/services/AdsService.ts\n- server/src/meta/routes/ads.ts\n- client/src/platform/PlatformManager.ts","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-09T08:03:42.03906+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T09:24:20.4427118+07:00","closed_at":"2026-01-09T09:24:20.4427118+07:00","close_reason":"IAdsProvider реализован, PR #60 merged"}
{"id":"slime-arena-6xo","title":"[Epic] Боевой пропуск и достижения","description":"**Требование:** TZ 5.9\n\n**Текущее состояние:** Только таблицы БД (battlepass_progress, mission_progress, achievements)\n\n**Необходимо реализовать:**\n1. BattlepassService с логикой прогресса по уровням\n2. AchievementsService с логикой разблокировки\n3. API маршруты:\n   - GET /api/v1/battlepass/status\n   - POST /api/v1/battlepass/claim\n   - GET /api/v1/achievements\n4. Конфиги config/battlepass.json, config/achievements.json\n5. Интеграция с MatchResultService для обновления прогресса после матча\n6. UI на клиенте (экран боевого пропуска, отображение достижений)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-09T08:05:37.6401528+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T08:05:37.6401528+07:00"}
{"id":"slime-arena-7f2","title":"Типизировать AdsShowResult.reward.type как union","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-09T09:24:36.6340925+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T09:24:36.6340925+07:00"}
{"id":"slime-arena-7za","title":"Stage D: Smoke Tests для полного flow","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T16:17:14.2111092+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T16:22:41.3887567+07:00","closed_at":"2026-01-08T16:22:41.3887567+07:00","close_reason":"Дубликат"}
{"id":"slime-arena-8yz","title":"Исправление: имя не обновляется при повторе матча","description":"**Местоположение:**\n- Файл: client/src/main.ts (функция onPlayAgain)\n- Файл: client/src/ui/components/MainMenu.tsx\n\n**Требование из ТЗ:**\n\u003e Раздел Progress: Известная проблема X-5\n\n**Проблема:**\nКогда игрок меняет имя в MainMenu и нажимает 'Играть снова', новое имя не передаётся на MatchServer. Отправляется старое имя.\n\n**Последствия:**\n- Неконсистентное имя в игре и на экране результатов\n- Игрок видит свой старый nickname вместо нового\n\n**Воспроизведение:**\n1. Закончи матч (Results Screen)\n2. Измени имя в поле ввода\n3. Нажми 'В бой' (Play Again)\n4. Проверь имя в лидерборде → показывает старое\n\n**Решение:**\nСинхронизировать signal playerName перед отправкой selectClass команды\n\n**Связанные компоненты:**\n- client/src/ui/signals/gameState.ts (playerName signal)\n- client/src/main.ts (onPlayAgain function)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:18:10.6062896+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T22:01:34.8895577+07:00","closed_at":"2026-01-08T22:01:34.8895577+07:00","close_reason":"PR #54 + commit 7804a12 merged to main"}
{"id":"slime-arena-bjp","title":"Обновить документацию: /ads/claim вместо /ads/reward/claim","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-09T09:24:37.6192566+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T09:24:37.6192566+07:00"}
{"id":"slime-arena-cec","title":"Исправить англицизмы в комментариях IAdsProvider","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-09T09:24:35.647322+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T09:24:35.647322+07:00"}
{"id":"slime-arena-dm5","title":"Настроить хуки автосинхронизации демона","description":"**Местоположение:**\n.beads/config.yaml\n\n**Требование из ТЗ:**\nРаздел Beads: Демон должен автоматически коммитить и пушить изменения\n\n**Проблема:**\nДемон запущен без флагов auto-commit и auto-push. Это замедляет workflow при распределённой работе (multi-clone).\n\n**Текущее состояние:**\n- bd daemon запущен с auto-pull: true\n- auto-commit: false (нужно вручную коммитить)\n- auto-push: false (нужно вручную пушить)\n\n**Последствия:**\n- Изменения в bd не синхронизируются автоматически\n- Медленный обмен задачами между клонами\n\n**Решение:**\n1. Перезапустить демон с флагами: bd daemon --restart --auto-commit --auto-push\n2. Добавить в .beads/config.yaml: auto-commit: true, auto-push: true\n\n**Связанные компоненты:**\n- bd daemon\n- Git sync branch (beads-sync)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T16:18:45.0519529+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T00:21:28.9170186+07:00","closed_at":"2026-01-09T00:21:28.9170186+07:00","close_reason":"Merged in PR #56"}
{"id":"slime-arena-ee5","title":"Настроить Beads MCP Server для Claude","description":"**Местоположение:**\nИнтеграция: ~/.claude/settings.json\n\n**Требование из ТЗ:**\nРаздел Beads: Для полной интеграции с Claude нужен MCP (Model Context Protocol) сервер\n\n**Проблема:**\nСейчас Beads интегрирован через CLI-only mode (хуки SessionStart/PreCompact). Это минимум для работы, но без слэш-команд.\n\n**Последствия:**\n- Нет слэш-команд вроде /map, /issues в Claude\n- Контекст загружается медленнее\n- Сложнее взаимодействовать с задачами\n\n**Решение:**\nУстановить Beads MCP Server согласно https://github.com/steveyegge/beads/blob/main/docs/PLUGIN.md\n\n**Связанные компоненты:**\n- Beads CLI\n- Claude Code settings\n- MCP protocol","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:18:35.9341115+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T07:36:47.1406935+07:00","closed_at":"2026-01-09T07:36:47.1406935+07:00","close_reason":"Настроен Beads MCP Server для VS Code через глобальный mcp.json. Сервер Running, инструменты bd_* доступны в Copilot Chat.","comments":[{"id":1,"issue_id":"slime-arena-ee5","author":"FRACTAL-XL\\komle","text":"Blocked: Claude Code не поддерживает /plugin команды. MCP интеграция недоступна. CLI hooks работают как fallback.","created_at":"2026-01-08T13:54:40Z"},{"id":2,"issue_id":"slime-arena-ee5","author":"FRACTAL-XL\\komle","text":"BLOCKED: Claude Code (VSCode extension) не поддерживает команды /plugin marketplace и /plugin install. Документация Beads предполагает функционал, которого нет в текущей версии Claude Code. CLI-интеграция через hooks (SessionStart/PreCompact → bd prime) работает как fallback. Задача вернётся в работу когда Anthropic добавит поддержку MCP плагинов.","created_at":"2026-01-08T14:10:57Z"}]}
{"id":"slime-arena-eg7","title":"Рефакторинг ArenaRoom: извлечение боевой системы","description":"**Местоположение:**\n- Файл: server/src/rooms/ArenaRoom.ts (4026 строк, 126+ методов)\n\n**Требование из ТЗ:**\n\u003e Раздел Architecture Part 1: Декомпозиция God Objects для поддерживаемости\n\n**Проблема:**\nArenaRoom монолит с прямым доступом ко всем системам боя. Нарушает SOLID принципы, сложно расширять.\n\n**Последствия:**\n- Высокая сложность кода (легко регрессии)\n- Сложность добавления новых способностей/механик\n- Плохая тестируемость боевой логики\n\n**Воспроизведение:**\nПопытайся добавить новый класс с уникальной способностью → понадобится переписывать ArenaRoom\n\n**Связанные компоненты:**\n- server/src/rooms/schema/GameState.ts\n- server/src/utils/combat/\n- server/src/utils/physics/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:17:36.3917536+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T00:49:33.2434868+07:00","closed_at":"2026-01-09T00:49:33.2434868+07:00","close_reason":"Merged in PR #57","comments":[{"id":6,"issue_id":"slime-arena-eg7","author":"FRACTAL-XL\\komle","text":"Sprint 11 progress: Talent System module created (server/src/rooms/systems/talent/). TalentModifierCalculator.ts + TalentGenerator.ts extracted. Commit 0d90e7e. Integration into ArenaRoom deferred.","created_at":"2026-01-08T17:15:22Z"}]}
{"id":"slime-arena-foh","title":"Исправление рассинхрона частоты HUD (10Hz vs 5Hz)","description":"**Местоположение:**\n- Файл: client/src/ui/components/GameHUD.tsx\n- Файл: client/src/main.ts\n\n**Требование из ТЗ:**\n\u003e Раздел Progress: Известная проблема G-3\n\n**Проблема:**\nGameHUD обновляется на 10 Hz (100ms), а остальные сигналы на 5 Hz (200ms). Это создаёт рассинхрон и мигание на экране.\n\n**Последствия:**\n- Визуальное мигание HUD элементов\n- Несинхронизированные обновления с игровым состоянием\n\n**Воспроизведение:**\n1. Запусти игру\n2. Посмотри на счётчик уровня и массы — видны неконстантные обновления\n\n**Решение:**\nЛибо сделать GameHUD реактивным на signals, либо унифицировать частоту 10Hz везде\n\n**Связанные компоненты:**\n- client/src/ui/signals/gameState.ts\n- client/src/rendering/canvas.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:18:05.6468005+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T00:21:28.9301735+07:00","closed_at":"2026-01-09T00:21:28.9301735+07:00","close_reason":"Merged in PR #56"}
{"id":"slime-arena-g5s","title":"A/B: QA override для переключения вариантов","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T21:22:40.9508607+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T01:43:08.239181+07:00","closed_at":"2026-01-09T01:43:08.239181+07:00","close_reason":"Дубль: QA override покрыт в TZ-ABTesting-ClaudeOpus-v1.3.md Фаза 2 (Переопределение для отладки). Включено в epic slime-arena-5qa."}
{"id":"slime-arena-j2j","title":"Нагрузочное тестирование k6 (CCU=500)","description":"**Местоположение:**\n- tests/load/soft-launch.js\n\n**Требование из ТЗ:**\n\u003e Раздел Stage D: Валидация стабильности при CCU=500 с нулевыми ошибками\n\n**Проблема:**\nНужны k6 нагрузочные тесты для проверки инфраструктуры Soft Launch под нагрузкой (500 одновременных пользователей).\n\n**Последствия:**\n- Без тестов нагрузки невозможно предсказать поведение в production\n- Риск краша при первый день запуска\n\n**Диагностические данные:**\n- Текущий статус: тесты существуют (tests/load/soft-launch.js)\n- Требуемый результат: 87k+ requests, 0% errors\n\n**Связанные компоненты:**\n- MetaServer API endpoints\n- PostgreSQL connection pooling\n- Redis queue (Matchmaking)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T16:18:32.8069558+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T17:02:27.4203023+07:00","closed_at":"2026-01-08T17:02:27.4203023+07:00","close_reason":"k6 тесты существуют и правильно настроены (tests/load/soft-launch.js). Stages до 500 CCU, thresholds p99\u003c2000ms, errors\u003c1%. T-02/T-03 fixes применены. Готово к ручному запуску: k6 run tests/load/soft-launch.js"}
{"id":"slime-arena-k7h","title":"Configure AI auto-sync daemon hooks","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T16:18:33.316625+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T16:22:41.4116215+07:00","closed_at":"2026-01-08T16:22:41.4116215+07:00","close_reason":"Дубликат"}
{"id":"slime-arena-lhb","title":"Stage D: Smoke tests for complete flow","description":"**Местоположение:**\n- Stage D тестирование (Soft Launch)\n\n**Требование из ТЗ:**\n\u003e Раздел Stage D: Полный flow тестирование (auth → matchmaking → game → results)\n\n**Проблема:**\nНужны smoke-тесты для проверки полного жизненного цикла игровой сессии, включая интеграцию с MetaServer.\n\n**Последствия:**\n- Без тестов невозможно валидировать стабильность Soft Launch\n- Риск регрессий при развёртывании\n\n**Связанные компоненты:**\n- MatchServer, MetaServer, Auth, Matchmaking, Results submission","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T16:17:21.4638176+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T16:51:04.7548097+07:00","closed_at":"2026-01-08T16:51:04.7548097+07:00","close_reason":"Тесты уже реализованы в Sprint 3 (meta-stage-d.test.ts, 19 тестов). TypeScript компилируется. Runner run-stage-d.ps1 готов."}
{"id":"slime-arena-pgf","title":"Включить лимиты просмотра рекламы","description":"**Требование:** TZ 5.8 (лимиты)\n\n**Проблема:** Таблица daily_rewards.ads_watched_today не используется в логике сервиса\n\n**Решение:**\n1. В AdsService.generateGrant() проверять лимит из economy.json\n2. В AdsService.claimReward() инкрементировать счётчик ads_watched_today\n3. Добавить cron-задачу для ежедневного сброса счётчика\n4. Возвращать ошибку при превышении лимита","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-09T08:05:36.6897138+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T08:05:36.6897138+07:00"}
{"id":"slime-arena-qxj","title":"Валидация joinToken в ArenaRoom","description":"**Местоположение:**\n- Файл: server/src/rooms/ArenaRoom.ts\n- Метод: onAuth()\n\n**Требование из ТЗ:**\n\u003e Раздел Sprint 2.5: joinToken validation отложено до Stage D\n\n**Проблема:**\nArenaRoom должен валидировать JWT токен перед подключением клиента. Сейчас валидация не реализована.\n\n**Последствия:**\n- Уязвимость безопасности: любой может подключиться к матчу, зная ID комнаты\n- Нарушение контракта MatchServer ↔ MetaServer\n\n**Связанные компоненты:**\n- server/src/meta/services/AuthService.ts (JWT генерация)\n- server/src/rooms/ArenaRoom.ts (onAuth validation)\n- client/src/services/matchmakingService.ts (joinToken получение)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T16:18:14.807773+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T17:01:33.4748655+07:00","closed_at":"2026-01-08T17:01:33.4748655+07:00","close_reason":"Реализована полная JWT-валидация: JoinTokenService для генерации/верификации, интеграция в MatchmakingService (токены при создании матча), onAuth в ArenaRoom (валидация при подключении). Dev mode поддерживается через JOIN_TOKEN_REQUIRED env."}
{"id":"slime-arena-rj4","title":"Setup Beads MCP Server for Claude integration","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T16:18:33.0685376+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-08T16:22:41.416268+07:00","closed_at":"2026-01-08T16:22:41.416268+07:00","close_reason":"Дубликат"}
{"id":"slime-arena-tja","title":"UI Refactoring Phase 3 - Legacy cleanup + Safe Area","description":"Очистка legacy кода и адаптация Safe Area. После Phase 2.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T19:19:56.4245178+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T19:19:56.4245178+07:00"}
{"id":"slime-arena-vjn","title":"Docker: multi-platform build (ARM64 + AMD64)","description":"**Проблема:**\nОбразы Docker собираются только для linux/amd64 (x86_64).\nНа macOS M1/M2/M3/M4 (Apple Silicon ARM64) контейнеры не запускаются без эмуляции.\n\n**Источник:**\nPerplexity AI chat: проблема запуска на Mac M3\n\n**Симптом:**\n```\nno matching manifest for linux/arm64\n```\n\n**Текущее состояние:**\n- publish-containers.yml: нет параметра `platforms:`\n- Все Dockerfile используют node:18-alpine (устарел)\n- Нет документации по запуску на ARM\n\n**Решение:**\n1. Добавить `platforms: linux/amd64,linux/arm64` в publish-containers.yml\n2. Обновить базовый образ на node:20-alpine (LTS до 2026)\n3. Обновить README с инструкциями для Apple Silicon\n4. Добавить docker-compose.arm64.yml для нативной сборки\n\n**Файлы:**\n- .github/workflows/publish-containers.yml\n- docker/*.Dockerfile (5 файлов)\n- docker/docker-compose.*.yml\n- README.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T01:58:31.1292308+07:00","created_by":"Dmitriy Komlev","updated_at":"2026-01-09T06:34:20.3656978+07:00","closed_at":"2026-01-09T06:34:20.3656978+07:00","close_reason":"Multi-platform Docker support released in v0.4.0"}
