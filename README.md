# Slime Arena

> **üß™ AI-Native Development Experiment**
>
> –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ —Å–≤–æ–∏–º **–Ω–æ–≤–∞—Ç–æ—Ä—Å–∫–∏–º –º–µ—Ç–æ–¥–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**. Slime Arena —Å–æ–∑–¥–∞—ë—Ç—Å—è **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–ª–∞–º–∏ –ò–ò** –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ–ª–æ–≤–µ–∫–∞-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–∏—à–µ—Ç –∫–æ–¥ –≤—Ä—É—á–Ω—É—é.
>
> **–¶–µ–ª—å:** –û—Ç–ª–∞–¥–∏—Ç—å —Ä–∞–±–æ—Ç—É –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–µ –∏ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∞–ª–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∞ (–æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É—é—â–∏—Ö 5‚Äì15 —á–µ–ª–æ–≤–µ–∫ –∏ 1‚Äì3 –≥–æ–¥–∞) —Å–∏–ª–∞–º–∏ –æ–¥–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.
>
> **–ò–ò –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
> - üìä –ê–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –ì–µ–π–º-–¥–∏–∑–∞–π–Ω
> - üèóÔ∏è –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
> - üíª –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ë–∞–≥-—Ñ–∏–∫—Å–∏–Ω–≥
> - üîç –†–µ–≤—å—é –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
> - üöÄ –î–µ–ø–ª–æ–π –∏ DevOps
>
> **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
> - **Beads:** AI-native —Ç—Ä–µ–∫–µ—Ä –∑–∞–¥–∞—á –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º —Ä–∞–±–æ—Ç—ã.
> - **Memory Bank:** –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
> - **Agent Roles:** –°—Ç—Ä–æ–≥–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Architect, Developer, Reviewer, Session Manager).
> - **Zero Trust:** –û–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ–¥ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏, –ø–æ–ª–∞–≥–∞—è—Å—å –Ω–∞ —Ç–µ—Å—Ç—ã –∏ –∫—Ä–æ—Å—Å-—Ä–µ–≤—å—é –∞–≥–µ–Ω—Ç–æ–≤.

**Soft Launch Status: READY** (6/6 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∏–≥—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ –±–æ–µ–≤—ã—Ö —Å–ª–∞–π–º–æ–≤.
–ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏–º—É–ª—è—Ü–∏—é –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|----------|
| Stage D Integration Tests | 19/19 passed |
| Load Test (k6) | CCU 500, 87k requests, 0% errors |
| Backup/Restore | Verified (data integrity confirmed) |
| joinToken Security | ‚úÖ JWT validation –≤ ArenaRoom.onAuth() |

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: Preact, Signals (—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ), HTML5 Canvas (—Ä–µ–Ω–¥–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞).
- **Backend**: Node.js, Colyseus (WebSocket —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è).
- **Shared**: TypeScript (–æ–±—â–∏–µ —Ç–∏–ø—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ñ–æ—Ä–º—É–ª—ã).
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker, GitHub Actions (CI/CD), PostgreSQL (MetaServer).

## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è
–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç–µ **30 —Ç–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É**. –í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (—Ñ–∏–∑–∏–∫–∞, —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏) –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –°–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π RNG, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å —Å–∏–º—É–ª—è—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤.

### 2. –ú–∞—Å—Å–∞ = –ó–¥–æ—Ä–æ–≤—å–µ
–í –∏–≥—Ä–µ –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è HP. –í–∞—à–∞ –º–∞—Å—Å–∞ ‚Äî —ç—Ç–æ –≤–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –≤–∞—à —Ä–∞–∑–º–µ—Ä.
- **–ú–∏–Ω–∏–º—É–º:** 50 –∫–≥ (–≥–∏–±–µ–ª—å).
- **–°—Ç–∞—Ä—Ç:** 100 –∫–≥.
- **–ú–µ—Ö–∞–Ω–∏–∫–∞:** –£–∫—É—Å—ã –≤—Ä–∞–≥–æ–≤ —É–º–µ–Ω—å—à–∞—é—Ç –≤–∞—à—É –º–∞—Å—Å—É –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –∏—Ö.

### 3. U2-—Å—Ç–∏–ª—å —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
–ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (U2-style smoothing). –í–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º–∏ —Å–Ω–∞–ø—à–æ—Ç–∞–º–∏, –∫–ª–∏–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–≤ –Ω–∞—Å—Ç–æ—è—â–µ–º¬ª, –ø–ª–∞–≤–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—è –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É –≤–≤–æ–¥–∞.

### 4. –ë–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
–í—Å–µ –∏–≥—Ä–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—É—Ä–æ–Ω, —Å–∫–æ—Ä–æ—Å—Ç—å, –∫—É–ª–¥–∞—É–Ω—ã, –≤–µ—Å–∞ –ø—É–∑—ã—Ä–µ–π) –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª [config/balance.json](config/balance.json). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –≥–µ–π–º–ø–ª–µ–π –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –∫–æ–¥–∞.

### 5. –ú–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
–ò–≥—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç touch-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –¥–∂–æ–π—Å—Ç–∏–∫–æ–º –∏ —Å–∏—Å—Ç–µ–º–æ–π Flight Assist:

- **Virtual Joystick**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –∑–∞ –ø–∞–ª—å—Ü–µ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏—é.
- **Flight Assist**: –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–≤–æ–¥–∞ –∫–∞–∫ –∂–µ–ª–∞–µ–º—ã–π –∫—É—Ä—Å –∏ –ø–ª–∞–≤–Ω–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å–ª–∞–π–º–∞.
- **Multitouch**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Ä–∞–∑–Ω—ã–º–∏ –ø–∞–ª—å—Ü–∞–º–∏.
- **A/B –ø–ª–∞–Ω —Ç—é–Ω–∏–Ω–≥–∞**: `docs/soft-launch/Sprint-Next-Mobile-Controls-Plan.md`.
- **A/B –∫–æ–Ω—Ñ–∏–≥**: `config/experiments/mobile-controls-ab.json`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- [client/](client/) ‚Äî –í–µ–±-–∫–ª–∏–µ–Ω—Ç (Vite + Preact).
- [server/](server/) ‚Äî –ò–≥—Ä–æ–≤–æ–π —Å–µ—Ä–≤–µ—Ä (Colyseus).
- [shared/](shared/) ‚Äî –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –∏ —Ç–∏–ø—ã.
- [config/](config/) ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±–∞–ª–∞–Ω—Å–∞.
- [docs/](docs/) ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v4.2.5, –¢–ó Soft Launch).
- [.memory_bank/](.memory_bank/) ‚Äî –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ –∫–ª–∏–µ–Ω—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:
1. **–°–µ—Ä–≤–µ—Ä:** `npm run dev:server` (ws://localhost:2567)
2. **–ö–ª–∏–µ–Ω—Ç:** `npm run dev:client` (http://localhost:5173)

### –°–±–æ—Ä–∫–∞

–ü–æ—Ä—è–¥–æ–∫ —Å–±–æ—Ä–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
npm run build
```

*(–°–Ω–∞—á–∞–ª–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è shared, –∑–∞—Ç–µ–º server –∏ client)*

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### MetaServer

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ MetaServer –≤ offline —Ä–µ–∂–∏–º–µ. –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MetaServer:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

   ```bash
   cp .env.local.example .env.local
   ```

2. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `VITE_META_SERVER_URL` –≤ `.env.local`:

   ```bash
   VITE_META_SERVER_URL=http://localhost:3000
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ MetaServer (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é).

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞.

**–ë–µ–∑ MetaServer:**

- –ò–≥—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥—Ä–∞–±–µ–ª—å–Ω–∞
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –∫ Colyseus —Å–µ—Ä–≤–µ—Ä—É (ws://localhost:2567)
- –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (–ø–ª–∞—Ç–µ–∂–∏, —Ä–µ–∫–ª–∞–º–∞) –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–∏–º—è –∑–∞–¥–∞—ë—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ)

**–° MetaServer:**

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (YaGames, Telegram, VK)
- RuntimeConfig —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–∏—á–∞–º–∏
- Matchmaking —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å
- –†–µ–∫–ª–∞–º–∞ —Å –Ω–∞–≥—Ä–∞–¥–æ–π

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
npm run test
```

–í–∫–ª—é—á–∞–µ—Ç —Ç–µ—Å—Ç—ã –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—Ä–µ–Ω—ã.

### Stage D Integration Tests

–ü–æ–ª–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (auth ‚Üí config ‚Üí matchmaking ‚Üí match-results).
**–°—Ç–∞—Ç—É—Å: ‚úÖ 19/19 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω—ã** (Sprint 3 –∑–∞–≤–µ—Ä—à—ë–Ω).

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL –∏ Redis
docker-compose up postgres redis -d

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å MetaServer
npm run dev --workspace=server

# 3. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ ‚Äî Stage D —Ç–µ—Å—Ç—ã (17 —Ç–µ—Å—Ç–æ–≤)
npx tsx server/tests/meta-stage-d.test.ts

# –ò–ª–∏ –≤—Å–µ smoke —Ç–µ—Å—Ç—ã (Stage B + C + D)
.\tests\smoke\run-stage-d.ps1
```

## –î–æ—Å—Ç—É–ø —Å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å)

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:

1. **–£–∑–Ω–∞–π—Ç–µ IP-–∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.100`).
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HMR** —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env.local`:

```bash
# client/.env.local
VITE_HMR_HOST=192.168.1.100
VITE_HMR_PROTOCOL=ws
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç** ‚Äî HMR –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ö–æ—Å—Ç.
4. **–û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:** `http://192.168.1.100:5173`

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|---------------|
| `VITE_HMR_HOST` | IP-–∞–¥—Ä–µ—Å –¥–ª—è WebSocket HMR | (–Ω–µ –∑–∞–¥–∞–Ω ‚Äî HMR –Ω–∞ localhost) |
| `VITE_HMR_PROTOCOL` | –ü—Ä–æ—Ç–æ–∫–æ–ª HMR (`ws` –∏–ª–∏ `wss`) | `ws` |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–¥–∞–Ω—ã, HMR —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ (localhost).

## –ó–∞–ø—É—Å–∫ –≤ Docker (Stable Release)

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker Compose:

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
docker-compose -f docker/docker-compose.yml up -d
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã v0.4.0:
- **Client**: [http://localhost:5173](http://localhost:5173) (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `slime-arena-client`)
- **MetaServer**: [http://localhost:3000](http://localhost:3000) (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `slime-arena-meta-server`)
- **MatchServer**: [ws://localhost:2567](ws://localhost:2567) (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `slime-arena-match-server`)
- **PostgreSQL**: [localhost:5432](localhost:5432) (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `slime-arena-postgres`)
- **Redis**: [localhost:6379](localhost:6379) (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `slime-arena-redis`)

### Load Tests (k6)

–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Soft Launch (CCU=500, p99 < 2000ms, errors < 1%):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å k6: https://k6.io/docs/getting-started/installation/

# Smoke test (–±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
k6 run --vus 10 --duration 30s tests/load/soft-launch.js

# Full load test (~11 –º–∏–Ω—É—Ç)
k6 run tests/load/soft-launch.js
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [tests/load/README.md](tests/load/README.md)

### Backup & Restore

–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ PostgreSQL:

```bash
# Windows
.\scripts\backup.ps1
.\scripts\restore.ps1 -BackupFile "backups\slime_arena_YYYYMMDD_HHMMSS.dump"

# Linux/macOS
./scripts/backup.sh
./scripts/restore.sh backups/slime_arena_YYYYMMDD_HHMMSS.dump
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [docs/operations/backup-restore.md](docs/operations/backup-restore.md)

## Docker

–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã v0.4.0 –¥–æ—Å—Ç—É–ø–Ω—ã –≤ GitHub Container Registry:

### –ú–æ–Ω–æ–ª–∏—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞)

–û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å MetaServer, MatchServer –∏ Client:

```bash
# –ó–∞–ø—É—Å–∫ –º–æ–Ω–æ–ª–∏—Ç–∞ —Å PostgreSQL –∏ Redis
docker-compose -f docker/docker-compose.monolith.yml up -d

# –°–µ—Ä–≤–∏—Å—ã:
# - MetaServer: http://localhost:3000
# - MatchServer: ws://localhost:2567
# - Client: http://localhost:5173
```

–û–±—Ä–∞–∑: `ghcr.io/komleff/slime-arena-monolith:v0.4.0`

### –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ö–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`window.location.hostname`).
–ü—Ä–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:

```bash
# –ù–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 192.168.1.100)
docker-compose -f docker/docker-compose.monolith.yml up -d

# –î–æ—Å—Ç—É–ø –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞:
# - http://192.168.1.100:5173 (–∏–≥—Ä–∞)
# - http://192.168.1.100:3000/health (API health check)
# - ws://192.168.1.100:2567 (WebSocket –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production:**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è             | –û–ø–∏—Å–∞–Ω–∏–µ                        | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é           |
| ---------------------- | ------------------------------- | ---------------------- |
| `POSTGRES_PASSWORD`    | –ü–∞—Ä–æ–ª—å PostgreSQL               | `slime_dev_password`   |
| `MATCH_SERVER_TOKEN`   | –¢–æ–∫–µ–Ω –¥–ª—è server-to-server auth | `dev-server-token`     |
| `META_HOST`            | –ê–¥—Ä–µ—Å –ø—Ä–∏–≤—è–∑–∫–∏ MetaServer       | `0.0.0.0`              |
| `HOST`                 | –ê–¥—Ä–µ—Å –ø—Ä–∏–≤—è–∑–∫–∏ MatchServer      | `0.0.0.0`              |
| `VERSION`              | –í–µ—Ä—Å–∏—è –æ–±—Ä–∞–∑–∞                   | `v0.4.0`               |

```bash
# –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ credentials
POSTGRES_PASSWORD=secure_password_123 \
MATCH_SERVER_TOKEN=prod-token-xyz \
docker-compose -f docker/docker-compose.monolith.yml up -d
```

### –û–±—Ä–∞–∑—ã v0.4.0

| –û–±—Ä–∞–∑ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `ghcr.io/komleff/slime-arena-app` | MetaServer + MatchServer + Client |
| `ghcr.io/komleff/slime-arena-db` | PostgreSQL + Redis |
| `ghcr.io/komleff/slime-arena-monolith-full` | –í—Å—ë –≤ –æ–¥–Ω–æ–º (–¥–ª—è —Ç–µ—Å—Ç–æ–≤) |

### Apple Silicon (M1/M2/M3/M4)

Docker-–æ–±—Ä–∞–∑—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –æ–±–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

- `linux/amd64` (Intel, AMD, cloud servers)
- `linux/arm64` (Apple Silicon, AWS Graviton)

–û–±—Ä–∞–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

```bash
docker pull ghcr.io/komleff/slime-arena-monolith-full:latest
docker-compose -f docker/docker-compose.monolith-full.yml up -d
```

–î–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

```bash
# ARM64 (Apple Silicon ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
docker pull --platform linux/arm64 ghcr.io/komleff/slime-arena-monolith-full:latest

# AMD64 (Intel/AMD, —ç–º—É–ª—è—Ü–∏—è –Ω–∞ M1-M4 —á–µ—Ä–µ–∑ Rosetta 2)
docker pull --platform linux/amd64 ghcr.io/komleff/slime-arena-monolith-full:latest
```

## Production Deployment

### Live Demo

**Production URL:** <https://slime-arena.overmobile.space>

–ò–≥—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ production —Å–µ—Ä–≤–µ—Ä—É:

- **Client**: <https://slime-arena.overmobile.space> (HTTPS)
- **MatchServer**: `wss://slime-arena-server.overmobile.space` (WSS)

### Domain Configuration

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –¥–æ–º–µ–Ω–æ–º:

**1. Vite Dev Server** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):

```typescript
// client/vite.config.ts
server: {
  allowedHosts: ['*.overmobile.space']
}
```

**2. WebSocket Auto-detection** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):

```typescript
// client/src/main.ts
if (isHttps && window.location.hostname.includes("overmobile.space")) {
    defaultWsUrl = `wss://slime-arena-server.overmobile.space`;
}
```

## –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ [CHANGELOG.md](CHANGELOG.md).

---
–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–∞–ø–∫–µ [docs/](docs/).
