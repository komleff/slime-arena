{
  "world": {
    "mapSize": 1000
  },
  "server": {
    "maxPlayers": 20,
    "tickRate": 30,
    "simulationIntervalMs": 33.33,
    "globalCooldownMs": 100,
    "abilityQueueSize": 1
  },
  "match": {
    "durationSec": 180,
    "resultsDurationSec": 12,
    "restartDelaySec": 3,
    "phases": [
      { "id": "Growth", "startSec": 0, "endSec": 60 },
      { "id": "Hunt", "startSec": 60, "endSec": 120 },
      { "id": "Final", "startSec": 120, "endSec": 180 }
    ]
  },
  "physics": {
    "environmentDrag": 0.01,
    "collisionRestitution": 0.5,
    "collisionImpulseCap": 10000,
    "slimeLinearDamping": 0.02,
    "orbLinearDamping": 0,
    "speedDampingRate": 0.2,
    "minSlimeMass": 50,
    "maxSlimeSpeed": 500,
    "maxOrbSpeed": 1000
  },
  "controls": {
    "joystickMode": "adaptive",
    "joystickRadius": 100,
    "joystickDeadzone": 0.1,
    "joystickSensitivity": 1.0,
    "joystickFollowSpeed": 0.8,
    "inputTimeoutMs": 200,
    "mouseDeadzone": 30,
    "mouseMaxDist": 200
  },
  "slimeConfigs": {
    "base": {
      "id": "base",
      "name": "Base Slime",
      "geometry": {
        "baseMassKg": 100,
        "baseRadiusM": 10.0,
        "inertiaFactor": 0.5
      },
      "propulsion": {
        "thrustForwardN": 9000,
        "thrustReverseN": 6750,
        "thrustLateralN": 8500,
        "turnTorqueNm": 35000
      },
      "limits": {
        "speedLimitForwardMps": 260,
        "speedLimitReverseMps": 180,
        "speedLimitLateralMps": 220,
        "angularSpeedLimitDegps": 180
      },
      "assist": {
        "comfortableBrakingTimeS": 3.5,
        "angularStopTimeS": 0.3,
        "autoBrakeMaxThrustFraction": 0.6,
        "overspeedDampingRate": 0.2,
        "yawFullDeflectionAngleDeg": 90,
        "yawOscillationWindowFrames": 12,
        "yawOscillationSignFlipsThreshold": 4,
        "yawDampingBoostFactor": 2.0,
        "yawCmdEps": 0.001,
        "angularDeadzoneRad": 0.02,
        "yawRateGain": 4.0,
        "reactionTimeS": 0.15,
        "accelTimeS": 0.5,
        "velocityErrorThreshold": 0.1,
        "inputMagnitudeThreshold": 0.01
      },
      "combat": {
        "biteDamagePctOfMass": 0.02,
        "orbBitePctOfMass": 0.10
      },
      "massScaling": {
        "minMassFactor": 0.1,
        "thrustForwardN": { "type": "power", "exp": 0.5 },
        "thrustReverseN": { "type": "power", "exp": 0.5 },
        "thrustLateralN": { "type": "power", "exp": 0.5 },
        "turnTorqueNm": { "type": "power", "exp": 1.5 },
        "speedLimitForwardMps": { "type": "power", "exp": 0 },
        "speedLimitReverseMps": { "type": "power", "exp": 0 },
        "speedLimitLateralMps": { "type": "power", "exp": 0 },
        "angularSpeedLimitRadps": { "type": "power", "exp": 0 }
      }
    },
    "hunter": {
      "id": "hunter",
      "name": "Hunter",
      "geometry": {
        "baseMassKg": 100,
        "baseRadiusM": 10.0,
        "inertiaFactor": 0.5
      },
      "propulsion": {
        "thrustForwardN": 9000,
        "thrustReverseN": 6750,
        "thrustLateralN": 8500,
        "turnTorqueNm": 35000
      },
      "limits": {
        "speedLimitForwardMps": 260,
        "speedLimitReverseMps": 180,
        "speedLimitLateralMps": 220,
        "angularSpeedLimitDegps": 180
      },
      "assist": {
        "comfortableBrakingTimeS": 3.5,
        "angularStopTimeS": 0.3,
        "autoBrakeMaxThrustFraction": 0.6,
        "overspeedDampingRate": 0.2,
        "yawFullDeflectionAngleDeg": 90,
        "yawOscillationWindowFrames": 12,
        "yawOscillationSignFlipsThreshold": 4,
        "yawDampingBoostFactor": 2.0,
        "yawCmdEps": 0.001,
        "angularDeadzoneRad": 0.02,
        "yawRateGain": 4.0,
        "reactionTimeS": 0.15,
        "accelTimeS": 0.5,
        "velocityErrorThreshold": 0.1,
        "inputMagnitudeThreshold": 0.01
      },
      "combat": {
        "biteDamagePctOfMass": 0.02,
        "orbBitePctOfMass": 0.10
      },
      "massScaling": {
        "minMassFactor": 0.1,
        "thrustForwardN": { "type": "power", "exp": 0.5 },
        "thrustReverseN": { "type": "power", "exp": 0.5 },
        "thrustLateralN": { "type": "power", "exp": 0.5 },
        "turnTorqueNm": { "type": "power", "exp": 1.5 },
        "speedLimitForwardMps": { "type": "power", "exp": 0 },
        "speedLimitReverseMps": { "type": "power", "exp": 0 },
        "speedLimitLateralMps": { "type": "power", "exp": 0 },
        "angularSpeedLimitRadps": { "type": "power", "exp": 0 }
      }
    },
    "warrior": {
      "id": "warrior",
      "name": "Warrior",
      "geometry": {
        "baseMassKg": 100,
        "baseRadiusM": 10.0,
        "inertiaFactor": 0.5
      },
      "propulsion": {
        "thrustForwardN": 9000,
        "thrustReverseN": 6750,
        "thrustLateralN": 8500,
        "turnTorqueNm": 35000
      },
      "limits": {
        "speedLimitForwardMps": 260,
        "speedLimitReverseMps": 180,
        "speedLimitLateralMps": 220,
        "angularSpeedLimitDegps": 180
      },
      "assist": {
        "comfortableBrakingTimeS": 3.5,
        "angularStopTimeS": 0.3,
        "autoBrakeMaxThrustFraction": 0.6,
        "overspeedDampingRate": 0.2,
        "yawFullDeflectionAngleDeg": 90,
        "yawOscillationWindowFrames": 12,
        "yawOscillationSignFlipsThreshold": 4,
        "yawDampingBoostFactor": 2.0,
        "yawCmdEps": 0.001,
        "angularDeadzoneRad": 0.02,
        "yawRateGain": 4.0,
        "reactionTimeS": 0.15,
        "accelTimeS": 0.5,
        "velocityErrorThreshold": 0.1,
        "inputMagnitudeThreshold": 0.01
      },
      "combat": {
        "biteDamagePctOfMass": 0.02,
        "orbBitePctOfMass": 0.10
      },
      "massScaling": {
        "minMassFactor": 0.1,
        "thrustForwardN": { "type": "power", "exp": 0.5 },
        "thrustReverseN": { "type": "power", "exp": 0.5 },
        "thrustLateralN": { "type": "power", "exp": 0.5 },
        "turnTorqueNm": { "type": "power", "exp": 1.5 },
        "speedLimitForwardMps": { "type": "power", "exp": 0 },
        "speedLimitReverseMps": { "type": "power", "exp": 0 },
        "speedLimitLateralMps": { "type": "power", "exp": 0 },
        "angularSpeedLimitRadps": { "type": "power", "exp": 0 }
      }
    },
    "collector": {
      "id": "collector",
      "name": "Collector",
      "geometry": {
        "baseMassKg": 100,
        "baseRadiusM": 10.0,
        "inertiaFactor": 0.5
      },
      "propulsion": {
        "thrustForwardN": 9000,
        "thrustReverseN": 6750,
        "thrustLateralN": 8500,
        "turnTorqueNm": 35000
      },
      "limits": {
        "speedLimitForwardMps": 260,
        "speedLimitReverseMps": 180,
        "speedLimitLateralMps": 220,
        "angularSpeedLimitDegps": 180
      },
      "assist": {
        "comfortableBrakingTimeS": 3.5,
        "angularStopTimeS": 0.3,
        "autoBrakeMaxThrustFraction": 0.6,
        "overspeedDampingRate": 0.2,
        "yawFullDeflectionAngleDeg": 90,
        "yawOscillationWindowFrames": 12,
        "yawOscillationSignFlipsThreshold": 4,
        "yawDampingBoostFactor": 2.0,
        "yawCmdEps": 0.001,
        "angularDeadzoneRad": 0.02,
        "yawRateGain": 4.0,
        "reactionTimeS": 0.15,
        "accelTimeS": 0.5,
        "velocityErrorThreshold": 0.1,
        "inputMagnitudeThreshold": 0.01
      },
      "combat": {
        "biteDamagePctOfMass": 0.02,
        "orbBitePctOfMass": 0.10
      },
      "massScaling": {
        "minMassFactor": 0.1,
        "thrustForwardN": { "type": "power", "exp": 0.5 },
        "thrustReverseN": { "type": "power", "exp": 0.5 },
        "thrustLateralN": { "type": "power", "exp": 0.5 },
        "turnTorqueNm": { "type": "power", "exp": 1.5 },
        "speedLimitForwardMps": { "type": "power", "exp": 0 },
        "speedLimitReverseMps": { "type": "power", "exp": 0 },
        "speedLimitLateralMps": { "type": "power", "exp": 0 },
        "angularSpeedLimitRadps": { "type": "power", "exp": 0 }
      }
    }
  },
  "worldPhysics": {
    "linearDragK": 0.1,
    "angularDragK": 0.0,
    "restitution": 0.9,
    "maxPositionCorrectionM": 0.5,
    "worldShape": "rectangle",
    "widthM": 1000,
    "heightM": 1000
  },
  "clientNetSmoothing": {
    "lookAheadMs": 150,
    "velocityWeight": 0.7,
    "catchUpSpeed": 10.0,
    "maxCatchUpSpeed": 800,
    "teleportThreshold": 100,
    "angleCatchUpSpeed": 12.0
  },
  "slime": {
    "initialMass": 100,
    "initialLevel": 1,
    "initialClassId": 0,
    "levelThresholds": [100, 200, 300, 500, 800],
    "slotUnlockLevels": [1, 3, 5],
    "cardChoiceTimeoutSec": 12,
    "abilityPool": ["pull", "projectile", "spit", "bomb", "push", "mine"]
  },
  "combat": {
    "mouthArcDeg": 120,
    "tailArcDeg": 120,
    "tailDamageMultiplier": 1.5,
    "attackCooldownSec": 0.2,
    "damageInvulnSec": 0.2,
    "biteCooldownSec": 0.1,
    "respawnShieldSec": 5.0,
    "lastBreathDurationSec": 0.5,
    "lastBreathSpeedPenalty": 0.8,
    "pvpBiteVictimLossPct": 0.20,
    "pvpBiteAttackerGainPct": 0.10,
    "pvpBiteScatterPct": 0.10,
    "pvpBiteScatterOrbCount": 3,
    "pvpBiteScatterSpeed": 60
  },
  "death": {
    "respawnDelaySec": 2,
    "massLostPercent": 0.5,
    "massToOrbsPercent": 0.3,
    "orbsCount": 4,
    "minRespawnMass": 100
  },
  "orbs": {
    "initialCount": 10,
    "maxCount": 15,
    "respawnIntervalSec": 0.5,
    "minMass": 3,
    "minRadius": 2.5,
    "pushForce": 100,
    "types": [
      { "id": "green",  "weight": 45, "density": 0.2, "massRange": [10, 50] },
      { "id": "blue",   "weight": 30, "density": 0.3, "massRange": [30, 150] },
      { "id": "red",    "weight": 20, "density": 0.4, "massRange": [80, 400] },
      { "id": "gold",   "weight": 5, "density": 0.5, "massRange": [200, 1000] }
    ]
  },
  "formulas": {
    "damage": { "base": 10, "scale": 10, "divisor": 100 },
    "speed": { "base": 1.0, "divisor": 500 },
    "radius": { "base": 10, "divisor": 50 }
  },
  "classes": {
    "hunter": {
      "speedMult": 1.15,
      "biteResistPct": 0,
      "swallowLimit": 50,
      "biteFraction": 0.3
    },
    "warrior": {
      "speedMult": 0.9,
      "biteResistPct": 0.15,
      "damageVsSlimeMult": 1.1,
      "swallowLimit": 45,
      "biteFraction": 0.35
    },
    "collector": {
      "radiusMult": 1.25,
      "eatingPowerMult": 1.15,
      "swallowLimit": 70,
      "biteFraction": 0.5
    }
  },
  "abilities": {
    "dash": {
      "massCostPct": 0.03,
      "cooldownSec": 5,
      "distanceM": 80,
      "durationSec": 0.3,
      "collisionDamageMult": 1.5
    },
    "shield": {
      "massCostPct": 0.04,
      "cooldownSec": 8,
      "durationSec": 2.5
    },
    "magnet": {
      "massCostPct": 0.015,
      "cooldownSec": 6,
      "durationSec": 1.5,
      "radiusM": 150,
      "pullSpeedMps": 50
    },
    "slow": {
      "massCostPct": 0.02,
      "cooldownSec": 7,
      "durationSec": 2,
      "radiusM": 80,
      "slowPct": 0.30
    },
    "projectile": {
      "massCostPct": 0.02,
      "cooldownSec": 3,
      "speedMps": 400,
      "rangeM": 300,
      "damagePct": 0.15,
      "radiusM": 8
    },
    "spit": {
      "massCostPct": 0.03,
      "cooldownSec": 4,
      "speedMps": 350,
      "rangeM": 200,
      "damagePct": 0.08,
      "radiusM": 6,
      "projectileCount": 3,
      "spreadAngleDeg": 30
    },
    "bomb": {
      "massCostPct": 0.04,
      "cooldownSec": 6,
      "speedMps": 200,
      "rangeM": 250,
      "damagePct": 0.12,
      "radiusM": 10,
      "explosionRadiusM": 50
    },
    "push": {
      "massCostPct": 0.03,
      "cooldownSec": 6,
      "radiusM": 80,
      "impulseNs": 50000
    },
    "mine": {
      "massCostPct": 0.02,
      "cooldownSec": 10,
      "damagePct": 0.15,
      "radiusM": 15,
      "durationSec": 20,
      "maxMines": 1
    }
  },
  "chests": {
    "maxCount": 3,
    "spawnIntervalSec": 20,
    "mass": 200,
    "radius": 14,
    "rewards": {
      "massPercent": [0.1, 0.2, 0.3],
      "talentChance": 0.4
    }
  },
  "hotZones": {
    "chaosCount": 2,
    "finalCount": 1,
    "radius": 110,
    "spawnMultiplierChaos": 3,
    "spawnMultiplierFinal": 5
  },
  "hunger": {
    "baseDrainPerSec": 2,
    "scalingPerMass": 0.01,
    "maxDrainPerSec": 12,
    "minMass": 50
  },
  "rebel": {
    "updateIntervalSec": 5,
    "massThresholdMultiplier": 1.2
  },
  "talents": {
    "cardChoiceTimeoutSec": 12,
    "talentPool": {
      "common": ["fastLegs", "spinner", "sharpTeeth", "glutton", "thickSkin", "economical", "recharge", "aggressor", "sturdy", "accelerator", "anchor", "crab", "bloodlust", "secondWind"],
      "rare": ["poison", "frost", "vampire", "vacuum", "motor", "ricochet", "piercing", "longDash", "backNeedles", "toxic"],
      "epic": ["lightning", "doubleActivation", "explosion", "leviathan", "invisible"]
    },
    "common": {
      "fastLegs": { "name": "Быстрые ноги", "maxLevel": 3, "values": [0.10, 0.18, 0.25], "effect": "speedLimitBonus" },
      "spinner": { "name": "Юла", "maxLevel": 3, "values": [0.10, 0.18, 0.25], "effect": "turnBonus" },
      "sharpTeeth": { "name": "Острые зубы", "maxLevel": 3, "values": [0.15, 0.25, 0.35], "effect": "biteDamageBonus" },
      "glutton": { "name": "Обжора", "maxLevel": 3, "values": [0.20, 0.35, 0.50], "effect": "orbMassBonus" },
      "thickSkin": { "name": "Толстая шкура", "maxLevel": 3, "values": [0.12, 0.20, 0.27], "effect": "biteResistBonus" },
      "economical": { "name": "Экономный", "maxLevel": 3, "values": [0.15, 0.25, 0.33], "effect": "abilityCostReduction" },
      "recharge": { "name": "Перезарядка", "maxLevel": 3, "values": [0.15, 0.25, 0.33], "effect": "cooldownReduction" },
      "aggressor": { "name": "Агрессор", "maxLevel": 1, "values": [0.12], "effect": "aggressorDual" },
      "sturdy": { "name": "Стойкий", "maxLevel": 1, "values": [0.10], "effect": "allDamageReduction" },
      "accelerator": { "name": "Ускоритель", "maxLevel": 1, "values": [0.15], "effect": "thrustForwardBonus" },
      "anchor": { "name": "Якорь", "maxLevel": 1, "values": [0.20], "effect": "thrustReverseBonus" },
      "crab": { "name": "Краб", "maxLevel": 1, "values": [0.15], "effect": "thrustLateralBonus" },
      "bloodlust": { "name": "Кровожадность", "maxLevel": 1, "values": [0.15], "effect": "killMassBonus" },
      "secondWind": { "name": "Второе дыхание", "maxLevel": 1, "values": [150], "effect": "respawnMass" }
    },
    "rare": {
      "poison": { "name": "Яд", "maxLevel": 2, "values": [[0.02, 3], [0.03, 3]], "effect": "poisonOnBite", "requirement": null },
      "frost": { "name": "Мороз", "maxLevel": 2, "values": [[0.30, 2], [0.40, 2.5]], "effect": "frostOnBite", "requirement": null },
      "vampire": { "name": "Вампир", "maxLevel": 1, "values": [[0.20, 0.25]], "effect": "vampireBite", "requirement": null },
      "vacuum": { "name": "Вакуум", "maxLevel": 2, "values": [[40, 15], [60, 20]], "effect": "vacuumOrbs", "requirement": null },
      "motor": { "name": "Мотор", "maxLevel": 1, "values": [0.25], "effect": "allThrustBonus", "requirement": null },
      "ricochet": { "name": "Рикошет", "maxLevel": 1, "values": [1], "effect": "projectileRicochet", "requirement": "projectile" },
      "piercing": { "name": "Пробивание", "maxLevel": 1, "values": [[1.0, 0.6]], "effect": "projectilePiercing", "requirement": "projectile" },
      "longDash": { "name": "Длинный рывок", "maxLevel": 1, "values": [0.40], "effect": "dashDistanceBonus", "requirement": "dash" },
      "backNeedles": { "name": "Иглы назад", "maxLevel": 1, "values": [[3, 0.10]], "effect": "deathNeedles", "requirement": null },
      "toxic": { "name": "Токсичный", "maxLevel": 1, "values": [2.0], "effect": "toxicPoolBonus", "requirement": null }
    },
    "epic": {
      "lightning": { "name": "Молния", "maxLevel": 1, "values": [[0.25, 0.3]], "effect": "lightningSpeed", "requirement": null },
      "doubleActivation": { "name": "Двойная активация", "maxLevel": 1, "values": [[1.0, 0.80]], "effect": "doubleAbility", "requirement": null },
      "explosion": { "name": "Взрыв", "maxLevel": 1, "values": [[60, 0.08]], "effect": "deathExplosion", "requirement": null },
      "leviathan": { "name": "Левиафан", "maxLevel": 1, "values": [[1.3, 1.5]], "effect": "leviathanSize", "requirement": null },
      "invisible": { "name": "Невидимка", "maxLevel": 1, "values": [1.5], "effect": "invisibleAfterDash", "requirement": "dash" }
    }
  }
}
