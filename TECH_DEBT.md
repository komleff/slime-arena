# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ (Technical Debt)

–ó–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞ –∏–ª–∏ refactoring.

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π

### PvP —É–∫—É—Å + Last Breath ‚Äî ¬´—Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å—ã¬ª
**–ó–∞–¥–∞—á–∞:** –ü–µ—Ä–µ—Å—á—ë—Ç gain/scatter –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ—Ç–µ—Ä–∏ –∂–µ—Ä—Ç–≤—ã

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –¢–µ–∫—É—â–∞—è —Ñ–æ—Ä–º—É–ª–∞: `scatter = stealPercentOfDamage √ó damagePct` ‚Üí –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –î–û –∫–ª–∞–º–ø–∞ –ø–æ—Ç–µ—Ä–∏ –∂–µ—Ä—Ç–≤—ã
- –ï—Å–ª–∏ –∂–µ—Ä—Ç–≤–∞ —É–∂–µ –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –º–∞—Å—Å–µ, –æ—Ö–æ—Ç–Ω–∏–∫ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç ¬´–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π¬ª –ø—Ä–∏—Ä–æ—Å—Ç
- Last Breath + bite –º–æ–∂–µ—Ç ¬´—Å–æ–∑–¥–∞—Ç—å¬ª –º–∞—Å—Å—É –∏–∑ –Ω–∏—á–µ–≥–æ

**–†–µ—à–µ–Ω–∏–µ:**
```ts
const lossActual = victimMassBefore - victimMassAfter;
const scatter = lossActual √ó scatterFraction;
const gain = lossActual - scatter;
```

**–§–∞–π–ª—ã:**
- `server/src/rooms/ArenaRoom.ts` ‚Äî `combatSystem()`, –ª–æ–≥–∏–∫–∞ PvP —É–∫—É—Å–∞

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ñ–∏–∫—Å–∞

---

### Freeze –ø—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –Ω–µ –ø–æ–ª–Ω—ã–π
**–ó–∞–¥–∞—á–∞:** `updateOrbsVisual()` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–±–µ–¥—ã/–ø–æ—Ä–∞–∂–µ–Ω–∏—è

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –ü—Ä–∏ –ø–æ–∫–∞–∑–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–æ—Ä–æ–∂–µ–Ω–∞
- –ù–æ visual update –æ—Ä–±–æ–≤ –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `if (gameEnded) return;` –≤ `updateOrbsVisual()`

**–§–∞–π–ª—ã:**
- `client/src/main.ts` ‚Äî `updateOrbsVisual()`

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ñ–∏–∫—Å–∞

---

### –î–∂–æ–π—Å—Ç–∏–∫: —Ä–µ–∂–∏–º "dynamic"
**–ó–∞–¥–∞—á–∞:** –†–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å –æ –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Ä–µ–∂–∏–º–∞ "dynamic" –¥–∂–æ–π—Å—Ç–∏–∫–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –í `JoystickConfig.mode` –±—ã–ª —É–±—Ä–∞–Ω —Ç–∏–ø "dynamic" (–æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ "fixed" | "adaptive")
- –≠—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª "dynamic" –∏ –º–æ–ª—á–∞ –∑–∞–º–µ–Ω—è–ª –µ–≥–æ –Ω–∞ "adaptive"
- –í–æ–∑–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å: –Ω—É–∂–µ–Ω –ª–∏ "dynamic" —Ä–µ–∂–∏–º –≤ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–ø—Ä–∏–Ω—Ç–∞—Ö?

**–†–µ—à–µ–Ω–∏–µ:**
- [ ] **–ï—Å–ª–∏ –Ω–µ—Ç:** –£–¥–∞–ª–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ "dynamic" –∏–∑ –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] **–ï—Å–ª–∏ –¥–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–µ –∏ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `updateJoystickConfig()`

**–§–∞–π–ª—ã:**
- `client/src/input/joystick.ts` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `JoystickConfig`
- `shared/src/config.ts` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è `joystickMode`
- `config/balance.json` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä `joystickMode`
- `docs/` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è UI

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π

### Orb bite threshold vs max-bite ‚Äî –Ω—É–∂–Ω—ã —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
**–ó–∞–¥–∞—á–∞:** –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –≤ bite-—Ä–µ–∂–∏–º –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –º–∞—Å—Å—É –¥–ª—è bite

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –°–µ–π—á–∞—Å –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–≤—É–º—è —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—â–∞–º–∏
- `orbBiteThreshold` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –¥–ª—è –Ω–∞—á–∞–ª–∞ bite, –∏ –∫–∞–∫ –º–∞–∫—Å–∏–º—É–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞—Å—Å—ã
- –≠—Ç–æ –Ω–µ–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç—é–Ω–∏–Ω–≥ –±–∞–ª–∞–Ω—Å–∞

**–†–µ—à–µ–Ω–∏–µ:**
- `orbBiteMinMass` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ bite-—Ä–µ–∂–∏–º
- `orbBiteMaxMass` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π orb bite —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω

**–§–∞–π–ª—ã:**
- `config/balance.json`
- `server/src/rooms/ArenaRoom.ts` ‚Äî orb collision logic

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç –¥–∏–∑–∞–π–Ω-—Ä–µ—à–µ–Ω–∏—è

---

### –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç applyMassDelta() clamp
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ —Ç–æ–º, —á—Ç–æ clamp –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ü–û–°–õ–ï delta

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- `applyMassDelta()` —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç delta, –ø–æ—Ç–æ–º clamp –¥–æ `[1, maxMass]`
- –≠—Ç–æ –≤–∞–∂–Ω—ã–π –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

**–§–∞–π–ª—ã:**
- `server/src/rooms/ArenaRoom.ts` ‚Äî `applyMassDelta()`

**–°—Ç–∞—Ç—É—Å:** üìã –ü–ª–∞–Ω—É–µ—Ç—Å—è

---

### GCD —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
**–ó–∞–¥–∞—á–∞:** –ù–µ —Å—Ç–∞–≤–∏—Ç—å GCD, –µ—Å–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∞—Å—å

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –°–µ–π—á–∞—Å GCD (`abilityGcdTick`) —Å—Ç–∞–≤–∏—Ç—Å—è –≤ `abilitySystem()` –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
- –ï—Å–ª–∏ —É –∏–≥—Ä–æ–∫–∞ –Ω–µ—Ç –º–∞—Å—Å—ã –∏–ª–∏ –∫—É–ª–¥–∞—É–Ω –Ω–µ –ø—Ä–æ—à—ë–ª ‚Äî GCD –≤—Å—ë —Ä–∞–≤–Ω–æ —Å—Ç–∞–≤–∏—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É `abilityGcdTick` –≤–Ω—É—Ç—Ä—å —É—Å–ø–µ—à–Ω–æ–π –≤–µ—Ç–∫–∏ `activateXxx()`

**–§–∞–π–ª—ã:**
- `server/src/rooms/ArenaRoom.ts` ‚Äî `abilitySystem()`

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ñ–∏–∫—Å–∞

---

### Shield flag –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –±–ª–æ–∫–µ
**–ó–∞–¥–∞—á–∞:** `FLAG_ABILITY_SHIELD` –¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±–ª–æ–∫–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –°–µ–π—á–∞—Å —Ñ–ª–∞–≥ –æ—á–∏—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `updatePlayerFlags()` –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Ç–∏–∫–µ
- –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –°–±—Ä–∞—Å—ã–≤–∞—Ç—å —Ñ–ª–∞–≥ —Å—Ä–∞–∑—É –≤ –º–æ–º–µ–Ω—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ä–æ–Ω–∞

**–§–∞–π–ª—ã:**
- `server/src/rooms/ArenaRoom.ts` ‚Äî `combatSystem()`, shield logic

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ñ–∏–∫—Å–∞

---

### Dash –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∏—Ä–∞
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å clamp –ø–æ–∑–∏—Ü–∏–∏ –ø–æ—Å–ª–µ dash

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- `activateDash()` –º–µ–Ω—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é, –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –º–∏—Ä–∞
- –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–∞—Ä—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å `clamp(player.x, 0, worldWidth)` –ø–æ—Å–ª–µ dash

**–§–∞–π–ª—ã:**
- `server/src/rooms/ArenaRoom.ts` ‚Äî `activateDash()`

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ñ–∏–∫—Å–∞

---

### hpMult config –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
**–ó–∞–¥–∞—á–∞:** –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `hpMult`

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –í `balance.json` –µ—Å—Ç—å `hpMult`, –Ω–æ –æ–Ω –Ω–∏–≥–¥–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- –õ–∏–±–æ —É–¥–∞–ª–∏—Ç—å, –ª–∏–±–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –∑–¥–æ—Ä–æ–≤—å—è

**–§–∞–π–ª—ã:**
- `config/balance.json`
- `server/src/rooms/ArenaRoom.ts`

**–°—Ç–∞—Ç—É—Å:** üìã –ü–ª–∞–Ω—É–µ—Ç—Å—è

---

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ArenaRoom.ts
**–ó–∞–¥–∞—á–∞:** –†–∞–∑–¥–µ–ª–∏—Ç—å –æ–≥—Ä–æ–º–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (–∫–∞–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å –≤ —à–∞–≥–µ 8)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- `ArenaRoom.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç ~1500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –°–∏—Å—Ç–µ–º—ã (Physics, Combat, Pickup) –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ó–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞

**–ü–ª–∞–Ω:**
- `systems/PhysicsSystem.ts`
- `systems/CollisionSystem.ts`
- `systems/CombatSystem.ts`
- `systems/PickupSystem.ts`

**–°—Ç–∞—Ç—É—Å:** üîÑ –û—Ç–ª–æ–∂–µ–Ω–æ –¥–æ —Å–ø—Ä–∏–Ω—Ç–∞ "Refactoring"

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π

### Unit —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è `nameGenerator.ts` –∏ `mathUtils.ts`

**–°—Ç–∞—Ç—É—Å:** üìã –ü–ª–∞–Ω—É–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º PR

### –î—Ä–∏—Ñ—Ç –º–µ—Ö–∞–Ω–∏–∫–∞ (TASK-05)
**–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥—Ä–∏—Ñ—Ç –ø—Ä–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ > 120¬∞

**–°—Ç–∞—Ç—É—Å:** üìã –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –ø–ª–∞–Ω—É–µ—Ç—Å—è –ø–æ—Å–ª–µ MVP

---

## –ó–∞–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### ‚úÖ Cooldown UI: SVG progress –∏ label –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å
- ~~`abilityButton.textContent = icon` —É–¥–∞–ª—è–ª–æ –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã~~
- ‚úÖ **–†–µ—à–µ–Ω–æ:** –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π `abilityButtonIcon` span –¥–ª—è –∏–∫–æ–Ω–∫–∏

### ‚úÖ Q key binding
- ~~–ö–ª–∞–≤–∏—à–∞ Q –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–ª–∞–≤–∏—à–∏ 1~~
- ‚úÖ **–†–µ—à–µ–Ω–æ:** –£–±—Ä–∞–Ω–∞, –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ 1/2/3

### ‚úÖ –ë–∞–ª–∞–Ω—Å PvP –∫—Ä–∞–∂–∞ –º–∞—Å—Å—ã
- ~~–ñ—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –Ω–∞–ª–∏—á–∏—é —É—Ä–æ–Ω–∞~~
- ‚úÖ **–†–µ—à–µ–Ω–æ:** –ü—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ `damagePct` ‚Äî –∂–µ—Ä—Ç–≤–∞ —Ç–µ—Ä—è–µ—Ç `50% √ó damagePct`, –æ—Ö–æ—Ç–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç `25% √ó damagePct`

### ‚úÖ –°–Ω–∞–ø—à–æ—Ç—ã (–±—É—Ñ–µ—Ä vs –æ–¥–∏–Ω–æ—á–Ω—ã–π)
- ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: `snapshotBuffer` –∏ `latestSnapshot`~~
- ‚úÖ **–†–µ—à–µ–Ω–æ:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω `snapshotBuffer`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è U2-—Å—Ç–∏–ª—å (–æ–¥–∏–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–Ω–∞–ø—à–æ—Ç)

### ‚úÖ LCG –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–º—ë–Ω
- ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ LCG –≤ `nameGenerator.ts`~~
- ‚úÖ **–†–µ—à–µ–Ω–æ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `createLcg()` helper, DRY –ø—Ä–∏–Ω—Ü–∏–ø
