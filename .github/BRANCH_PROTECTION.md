# –ó–∞—â–∏—Ç–∞ –≤–µ—Ç–∫–∏ main

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏ `main` –æ—Ç –ø—Ä—è–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –õ–æ–∫–∞–ª—å–Ω—ã–µ Git Hooks

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π git hooks –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏ main –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

Git hooks —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `npm install`:

```bash
npm install
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å hooks –≤—Ä—É—á–Ω—É—é:

**Linux/macOS:**
```bash
npm run install-hooks
# –∏–ª–∏
bash scripts/install-hooks.sh
```

**Windows (CMD):**
```cmd
npm run install-hooks
# –∏–ª–∏
scripts\install-hooks.bat
```

**Windows (PowerShell):**
```powershell
npm run install-hooks
# –∏–ª–∏
.\scripts\install-hooks.ps1
```

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ hooks

1. **pre-commit** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–µ—Ç–∫—É main
2. **pre-push** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç push –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–µ—Ç–∫—É main  
3. **prepare-commit-msg** ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ –≤–µ—Ç–∫–µ main

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∫–æ–º–º–∏—Ç–∞ –≤ main:
```bash
‚ùå –û–®–ò–ë–ö–ê: –ó–∞–ø—Ä–µ—â–µ–Ω—ã –∫–æ–º–º–∏—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–µ—Ç–∫—É main

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
  git checkout -b feature/my-feature
```

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ push –≤ main:
```bash
‚ùå –û–®–ò–ë–ö–ê: –ó–∞–ø—Ä–µ—â–µ–Ω push –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–µ—Ç–∫—É main

–í–µ—Ç–∫–∞ main –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –ø—Ä—è–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Pull Request.
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions

–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å—ã:

### 1. –ü—Ä–æ—Ü–µ—Å—Å CI (`.github/workflows/ci.yml`)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–ª–∏—è–Ω–∏–µ –≤ –≤–µ—Ç–∫—É `main`
- –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ (`npm run build`)
- –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º

### 2. –ü—Ä–æ—Ü–µ—Å—Å –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏ (`.github/workflows/branch-protection.yml`)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä—è–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –≤–µ—Ç–∫—É `main`
- –í—ã–¥–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä—è–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ü–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å —Å–ª—É—á–∞–∏ –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏ –≤ GitHub

–î–ª—è –ø–æ–ª–Ω–æ–π –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏ `main` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Branch Protection Rules –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö GitHub.

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [GITHUB_BRANCH_PROTECTION_SETUP.md](GITHUB_BRANCH_PROTECTION_SETUP.md)

### –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
   - –ù–∞–∂–º–∏—Ç–µ `Settings` ‚Üí `Branches`

2. **–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏:**
   - –ù–∞–∂–º–∏—Ç–µ `Add branch protection rule`
   - –í –ø–æ–ª–µ "Branch name pattern" –≤–≤–µ–¥–∏—Ç–µ: `main`

3. **–í–∫–ª—é—á–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

   ‚úÖ **Require a pull request before merging**
   - –ó–∞–ø—Ä–µ—â–∞–µ—Ç –ø—Ä—è–º—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –≤ main
   - –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ª–∏—è–Ω–∏–µ
   
   ‚úÖ **Require approvals** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - –£–∫–∞–∂–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–æ–±—Ä–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1)
   - –ó–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–æ–±—Ä–µ–Ω –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º
   
   ‚úÖ **Dismiss stale pull request approvals when new commits are pushed**
   - –û–¥–æ–±—Ä–µ–Ω–∏–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–æ–≤—ã—Ö —Ñ–∏–∫—Å–∞—Ü–∏—è—Ö
   
   ‚úÖ **Require status checks to pass before merging**
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏: `build-and-test` (–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ CI)
   - –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º
   
   ‚úÖ **Require conversation resolution before merging**
   - –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
   
   ‚úÖ **Require linear history** (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –ó–∞–ø—Ä–µ—â–∞–µ—Ç —Å–ª–∏—è–Ω–∏–µ —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π —Å–ª–∏—è–Ω–∏—è, —Ç–æ–ª—å–∫–æ rebase –∏–ª–∏ squash
   
   ‚úÖ **Include administrators**
   - –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º, –≤–∫–ª—é—á–∞—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–æ:**
   - –ù–∞–∂–º–∏—Ç–µ `Create` –∏–ª–∏ `Save changes`

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏:

1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É:**
   ```bash
   git checkout -b feature/my-feature
   ```

2. **–í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ:**
   ```bash
   git add .
   git commit -m "Add new feature"
   ```

3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–µ—Ç–∫—É –Ω–∞ GitHub:**
   ```bash
   git push origin feature/my-feature
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ª–∏—è–Ω–∏–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
   - –ù–∞–∂–º–∏—Ç–µ `Pull requests` ‚Üí `New pull request`
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –≤–µ—Ç–∫—É
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å

5. **–î–æ–∂–¥–∏—Ç–µ—Å—å –ø—Ä–æ–≤–µ—Ä–æ–∫:**
   - –ü—Ä–æ—Ü–µ—Å—Å CI –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –°–±–æ—Ä–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ
   - –ü–æ–ª—É—á–∏—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–≥–æ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

6. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–∏—è–Ω–∏–µ:**
   - –ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞–∂–º–∏—Ç–µ `Merge pull request`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–ª–∏—è–Ω–∏—è (merge commit, squash, –∏–ª–∏ rebase)

## –§–∞–π–ª CODEOWNERS

–§–∞–π–ª `.github/CODEOWNERS` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞ –∫–æ–¥:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç –Ω—É–∂–Ω—ã–µ –ª—é–¥–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∑–∞—â–∏—Ç—ã:

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä—è–º—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –≤ main (—Ç–æ–ª—å–∫–æ –î–û –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã):
   ```bash
   git checkout main
   git commit --allow-empty -m "Test commit"
   git push origin main
   ```

2. –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∑–∞—â–∏—Ç—ã –ø–æ—è–≤–∏—Ç—Å—è –æ—à–∏–±–∫–∞:
   ```
   ! [remote rejected] main -> main (protected branch hook declined)
   ```

3. –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç - –∑–∞—â–∏—Ç–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Ä–∞–∑–¥–µ–ª—É –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã —ç—Ç–æ—Ç —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è - –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

## –°—Å—ã–ª–∫–∏

- [GitHub: About protected branches](https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches)
- [GitHub: About code owners](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners)
- [GitHub Actions: Workflow syntax](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)
