# Список задач Slime Arena (Core Prototype)

## Эпик 1: Инфраструктура и Серверное ядро (Server Core)

- [x] **TASK-01: Инициализация репозитория и монорепозитория**
  - Описание: Настроить структуру папок (`server`, `client`, `shared`) и базовый `package.json`. Настроить Docker Compose.
  - Статус: Выполнено.
- [x] **TASK-02: Настройка Colyseus Room и Game Loop**
  - Описание: Реализовать класс `MatchRoom` и игровой цикл с фиксированным шагом (30 Гц).
  - Критерии: Сервер логирует тики, `tick_duration` < 30 мс, детерминированный порядок систем.
  - Статус: Выполнено. Реализовано в `ArenaRoom.ts`.
- [x] **TASK-03: Система валидации ввода (Input System)**
  - Описание: Прием команд `seq`, `move`, `abilitySlot`. Валидация вектора движения.
  - Критерии: Игнорирование неверных `seq`, нормализация векторов.
  - Статус: Выполнено. Обработка в `onMessage("input")`.

## Эпик 2: Физика и Движение (Physics & Movement)

- [x] **TASK-04: Базовое движение и инерция**
  - Описание: Интеграция движения, ограничение скорости поворота, линейное затухание.
  - Статус: Выполнено. `FlightAssistSystem` + `PhysicsSystem`.
- [ ] **TASK-05: Механика Дрифта (Drift)**
  - Описание: Включение дрифта при развороте > 120°, потеря скорости, кулдаун.
  - Статус: Не реализовано. Низкий приоритет.
- [x] **TASK-06: Борты арены (Elastic Walls)**
  - Описание: Отражение от границ карты с учетом `restitution`.
  - Статус: Выполнено. `applyWorldBounds()`.
- [x] **TASK-07: Система столкновений (Collision System)**
  - Описание: Broadphase + Narrowphase (круг-круг), сохранение импульса.
  - Статус: Выполнено. `collisionSystem()` с 4 итерациями.

## Эпик 3: Игровая логика (Game Logic)

- [x] **TASK-08: Спавн пузырей и параметры**
  - Описание: Лимит 150 шт, разные типы (цвет, плотность, масса).
  - Статус: Выполнено. `spawnOrb()`, `updateOrbs()`.
- [x] **TASK-09: Логика поедания (Eating)**
  - Описание: Полное поглощение или откусывание части массы пузыря.
  - Статус: Выполнено. `tryEatOrb()`, `pickupSystem()`.
- [x] **TASK-10: Боевая система (Combat)**
  - Описание: Зоны удара (Пасть/Хвост/Бок), расчет урона, I-frames.
  - Статус: Выполнено. `processCombat()`, `getContactZone()`.
- [x] **TASK-11: Смерть и Респаун**
  - Описание: Потеря массы при смерти, щит при возрождении.
  - Статус: Выполнено. `handlePlayerDeath()`, `handlePlayerRespawn()`.

## Эпик 4: Клиент и Синхронизация (Client Core)

- [x] **TASK-12: Базовый рендеринг (Canvas 2D)**
  - Описание: Отрисовка сущностей, центрирование камеры, масштабирование.
  - Статус: Выполнено. `client/src/main.ts`.
- [x] **TASK-13: Буфер снапшотов и Интерполяция**
  - Описание: Сглаживание движения через интерполяцию.
  - Статус: Выполнено. Линейная интерполяция с буфером снапшотов.
- [x] **TASK-14: Управление (Input Controller)**
  - Описание: Адаптивный джойстик в левой части экрана.
  - Статус: Выполнено. Adaptive + Fixed режимы.
- [x] **TASK-15: Минимальный UI и Game Loop**
  - Описание: HUD (масса/HP), экран окончания игры.
  - Статус: Выполнено. HUD + Results Screen + автоперезапуск матча.

## Прогресс

**Этап 3.1 (Core Prototype):** ✅ 100% завершён

**Следующий этап:** 3.2 (Gameplay MVP) — классы, умения, таланты.
