# Legacy Code and External Extensions (php_interface equivalent)

В данном проекте отсутствуют PHP-файлы и Bitrix, однако роль «области кастомизации и legacy-кода» выполняют директории `legacy/` и `_ext/u2/`.

## Обзор областей

### 1. Legacy Code (`/legacy`)
Старая версия проекта, содержащая упрощенную реализацию клиента, сервера и общей логики.

- **Файлы**:
    - `legacy/server/src/rooms/ArenaRoom.ts`: Упрощенный игровой цикл без FBW-физики.
    - `legacy/shared/src/`: Использует константный `GAME_CONFIG` вместо динамического `balance.json`.
- **Хуки и события**:
    - Использует базовые события Colyseus (`onMessage("input")`, `onJoin`).
- **Риски**:
    - Код может вводить в заблуждение при поиске актуальной реализации.
    - Не поддерживает детерминизм и новые системы помощи в полете.
- **Рекомендации**:
    - **Candidate-for-cleanup**: Директория `legacy/` может быть полностью удалена после окончательной стабилизации текущей версии.

### 2. U2 Flight Test Sandbox (`/_ext/u2`)
Внешнее расширение/песочница для прототипирования систем полета проекта Universe Unlimited.

- **Файлы**:
    - Огромный массив файлов, включая C# (`.sln`), TypeScript, Docker-конфиги и документацию.
- **Особенности**:
    - Имеет собственные зависимости и систему сборки.
    - Содержит сложные формулы «Temporal Synchronization» и «Harmonic Convergence».
- **Риски**:
    - Высокая сложность и объем кода могут отвлекать от основного проекта Slime Arena.
    - Возможные конфликты портов при одновременном запуске (использует 2567, 5173 и др.).
- **Рекомендации**:
    - Использовать только как справочник по сложным физическим формулам.
    - Держать изолированным от основного пайплайна сборки Slime Arena.

## Опасные функции и блокировки
- В текущем коде Slime Arena (Node.js) блокировки по IP или сложные хуки безопасности не обнаружены.
- В `_ext/u2` присутствуют скрипты настройки окружения (`scripts/setup-env.sh`), которые могут изменять переменные окружения текущей сессии терминала.

## Кандидаты на очистку (Candidate-for-cleanup)
1.  Вся директория `legacy/` — после подтверждения, что ни одна часть старой логики не требуется для миграции.
2.  Лог-файлы в корне (`client-dev.err.log`, `server-dev.out.log` и т.д.) — должны быть в `.gitignore` или удалены.
