# Active Context

–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ñ–æ–∫—É—Å —Ä–∞–±–æ—Ç—ã.

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
**–í–µ—Ç–∫–∞ feat/gameplay-mvp-classes ‚Äî PR #7 (29 –¥–µ–∫–∞–±—Ä—è 2025)**

**GDD –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ v3.3** ‚Äî –º–æ–¥—É–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

### ‚úÖ –≠—Ç–∞–ø 0: –ê—É–¥–∏—Ç GDD v3.3 ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ –≠—Ç–∞–ø 1: –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ (–°–æ–±–∏—Ä–∞—Ç–µ–ª—å) ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ –≠—Ç–∞–ø 2: GCD –∏ –£–∫—É—Å—ã ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ –≠—Ç–∞–ø 3: –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ —Å–ª–æ—Ç–æ–≤ 2/3 ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ –≠—Ç–∞–ø 4: UI –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—ã–±–æ—Ä–∞ ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ Codex Review Fix #2 ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ Codex Review Fix #3 ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ –≠—Ç–∞–ø 5: –û—Å—Ç–∞–ª—å–Ω—ã–µ —É–º–µ–Ω–∏—è ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ Codex Review Fix #4 ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ –≠—Ç–∞–ø 6.1: –°–∏—Å—Ç–µ–º–∞ —Ç–∞–ª–∞–Ω—Ç–æ–≤ (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞) ‚Äî –ó–ê–í–ï–†–®–Å–ù
### ‚úÖ Codex Review Fix #5 ‚Äî –ó–ê–í–ï–†–®–Å–ù (29 –¥–µ–∫)
### ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–æ–º ‚Äî –ó–ê–í–ï–†–®–ï–ù–û (29 –¥–µ–∫)
### ‚úÖ –°–∏—Å—Ç–µ–º–∞ armorRings –¥–ª—è —Å—É–Ω–¥—É–∫–æ–≤ ‚Äî –ó–ê–í–ï–†–®–ï–ù–û (29 –¥–µ–∫)
### ‚úÖ Codex Review Fix #6 ‚Äî –ó–ê–í–ï–†–®–ï–ù–û (29 –¥–µ–∫)
### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É–Ω–¥—É–∫–æ–≤, –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è, –º—ã—à–∏ ‚Äî –ó–ê–í–ï–†–®–ï–ù–û (30 –¥–µ–∫)

### üîú –≠—Ç–∞–ø 6.2: UI –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–∞–ª–∞–Ω—Ç–æ–≤ (–∫–ª–∏–µ–Ω—Ç) ‚Äî –°–õ–ï–î–£–Æ–©–ò–ô

---

## Codex Review Fix #6 (29 –¥–µ–∫–∞–±—Ä—è 2025)

| –ü—Ä–æ–±–ª–µ–º–∞ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|----------|-------------|
| predictiveBraking –±–µ–∑ —É—á—ë—Ç–∞ angularDragK | –£—á—Ç—ë–Ω angularDragK –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ stoppingAngle |
| yawSignHistory –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–∏ | yawSignHistory –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ predictiveBraking |
| visualChests –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è –≤ resetSnapshotBuffer | –î–æ–±–∞–≤–ª–µ–Ω–æ visualChests.clear() |
| turnTorqueNm exp=1.0 —Å–ª–∏—à–∫–æ–º –≤—è–ª—ã–π –Ω–∞ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∞—Ö | exp: 1.0 ‚Üí 1.7 –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ |

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É–Ω–¥—É–∫–æ–≤, –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è, –º—ã—à–∏ (30 –¥–µ–∫–∞–±—Ä—è 2025)

| –ü—Ä–æ–±–ª–µ–º–∞ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|----------|-------------|
| –¢–∏–ø—ã —Å—É–Ω–¥—É–∫–æ–≤ –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–µ—Ä–µ–ø—É—Ç–∞–Ω—ã | client/src/main.ts: chestStyles –ø—Ä–∏–≤–µ–¥—ë–Ω –∫ –ø–æ—Ä—è–¥–∫—É rare/epic/gold |
| –°—É–Ω–¥—É–∫–∏ –Ω–µ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å–æ —Å–ª–∞–π–º–∞–º–∏ | server/src/rooms/ArenaRoom.ts: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è slime-chest –≤ collisionSystem |
| –°—É–Ω–¥—É–∫–∏ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å–ª–∏—à–∫–æ–º —Ä–µ–∑–∫–æ –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ | server/src/rooms/ArenaRoom.ts: —É–±—Ä–∞–Ω push –≤ chestSystem, –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ñ–∏–∑–∏–∫–∞ |
| –ù–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è | FLAG_PUSHING + pushEndTick + –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ä–∞–¥–∏—É—Å–∞ |
| –ü–æ—Ç–µ—Ä—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—ã—à—å—é —É –∫—Ä–∞—è –æ–∫–Ω–∞ | client/src/main.ts: onMouseLeave –¥–µ—Ä–∂–∏—Ç –≤–≤–æ–¥ –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã |

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –†–µ—Å—Ç–∞—Ä—Ç –º–∞—Ç—á–∞, –º–∏–Ω—ã, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –≤—ã–±–æ—Ä –∫–ª–∞—Å—Å–∞ (29 –¥–µ–∫–∞–±—Ä—è 2025)

| –ü—Ä–æ–±–ª–µ–º–∞ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|----------|-------------|
| restartMatch –ø–µ—Ä–µ–Ω–æ—Å–∏–ª abilityCooldownTick –≤ –Ω–æ–≤—ã–π –º–∞—Ç—á | –°–±—Ä–æ—Å abilityCooldownTick –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –ø—Ä–∏ restartMatch() |
| –¢–∞–ª–∞–Ω—Ç—ã –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏—Å—å –º–µ–∂–¥—É –º–∞—Ç—á–∞–º–∏ | –°–±—Ä–æ—Å talents/pendingTalentCard/pendingTalentQueue + recalculateTalentModifiers() –ø—Ä–∏ restartMatch() |
| –ú–∏–Ω–∞ –¥–µ—Ç–æ–Ω–∏—Ä–æ–≤–∞–ª–∞ –Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ | mineSystem –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç ownerId –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–ª–ª–∏–∑–∏–π |
| –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –∏ –º–æ–≥–ª–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏ | canvas.focus() –ø—Ä–∏ –≤—Ö–æ–¥–µ + –∑–∞–ø—Ä–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ input –±–µ–∑ document.hasFocus() –∏ –≤–∏–¥–∏–º–æ–π –≤–∫–ª–∞–¥–∫–∏ |
| –ú–µ–∂–¥—É –º–∞—Ç—á–∞–º–∏ –∏–≥—Ä–æ–∫ –ø–æ–ø–∞–¥–∞–ª –≤ –Ω–æ–≤—ã–π –±–æ–π –±–µ–∑ –≤—ã–±–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ | restartMatch —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç classId, –∫–ª–∏–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç joinScreen –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç selectClass –±–µ–∑ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |

## –°–∏—Å—Ç–µ–º–∞ armorRings –¥–ª—è —Å—É–Ω–¥—É–∫–æ–≤ (29 –¥–µ–∫–∞–±—Ä—è 2025)

**GDD-Chests.md ‚Äî –û–±—Ä—É—á–∏ –∑–∞—â–∏—Ç—ã —Å—É–Ω–¥—É–∫–æ–≤:**

| –¢–∏–ø | armorRings | –ú–∞—Å—Å–∞ | –£–¥–∞—Ä—ã –¥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è |
|-----|------------|-------|-------------------|
| rare (–∂—ë–ª—Ç—ã–π) | 0 | 250 –∫–≥ | 1 |
| epic (–∑–µ–ª—ë–Ω—ã–π) | 1 | 350 –∫–≥ | 2 |
| gold (–∫—Ä–∞—Å–Ω—ã–π) | 2 | 450 –∫–≥ | 3 |

**–í–µ—Å–∞ –ø–æ —Ñ–∞–∑–∞–º:**
| –§–∞–∑–∞ | rare | epic | gold |
|------|------|------|------|
| Growth | 85% | 15% | 0% |
| Hunt | 65% | 30% | 5% |
| Final | 50% | 35% | 15% |

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `server/src/rooms/schema/GameState.ts` ‚Äî armorRings –≤ Chest
- `config/balance.json` ‚Äî types –∏ phaseWeights
- `shared/src/config.ts` ‚Äî —Ç–∏–ø—ã
- `server/src/rooms/ArenaRoom.ts` ‚Äî spawnChest, chestSystem, activatePush
- `client/src/main.ts` ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ–±—Ä—É—á–∏

---

## Codex Review Fix #5 (29 –¥–µ–∫–∞–±—Ä—è 2025)

| –ü—Ä–æ–±–ª–µ–º–∞ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|----------|-------------|
| sprites.ts: Hunter –Ω–∞ classId=3 | Hunter=0, Warrior=1, Collector=2 |
| mines –Ω–µ –≤ RenderState | –î–æ–±–∞–≤–ª–µ–Ω–æ SnapshotMine/RenderMine |
| projectileType –Ω–µ –≤ Snapshot | –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±–æ–º–± |
| activatePush –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ chests | –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ —Å—É–Ω–¥—É–∫–æ–≤ |
| –í—Ö–æ–¥ –±–µ–∑ –≤—ã–±–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ | –ö–Ω–æ–ø–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –¥–æ –≤—ã–±–æ—Ä–∞ |
| –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ Results | isDead=true, –Ω–µ –≤ leaderboard |

## –£–ª—É—á—à–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–æ–º (29 –¥–µ–∫–∞–±—Ä—è 2025)

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∞–π–º—ã —Å–ª–∏—à–∫–æ–º –∏–Ω–µ—Ä—Ü–∏–æ–Ω–Ω—ã –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ ‚Äî –∑–∞–Ω–æ—Å >90¬∞, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ—á–Ω–æ –Ω–∞–≤–µ—Å—Ç–∏—Å—å.

**–†–µ—à–µ–Ω–∏–µ (–≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ U2 Flight Assist ON):**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|------|-------|--------|
| `angularStopTimeS` | 0.3 | **0.2** | –ë—ã—Å—Ç—Ä–µ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ |
| `angularBrakeBoostFactor` | ‚Äî | **1.5** | –ï—â—ë –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ |

**–ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è:** 0.2 / 1.5 = **0.133 —Å–µ–∫** (–±—ã–ª–æ 0.3 —Å–µ–∫)

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `config/balance.json` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Å–µ—Ö 4 –∫–ª–∞—Å—Å–æ–≤
- `shared/src/config.ts` ‚Äî —Ç–∏–ø –∏ –ø–∞—Ä—Å–∏–Ω–≥
- `server/src/rooms/ArenaRoom.ts` ‚Äî brake boost –ª–æ–≥–∏–∫–∞

---

## –≠—Ç–∞–ø 6.1: –°–∏—Å—Ç–µ–º–∞ —Ç–∞–ª–∞–Ω—Ç–æ–≤ ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (29 –¥–µ–∫–∞–±—Ä—è 2025)

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°—Ö–µ–º—ã (GameState.ts):**
- `Talent` ‚Äî id, level
- `TalentCard` ‚Äî option0/1/2, rarity0/1/2, expiresAtTick
- `Player.talents` ‚Äî ArraySchema<Talent>
- `Player.pendingTalentCard` ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
- `Player.pendingTalentCount` ‚Äî –æ—á–µ—Ä–µ–¥—å –∫–∞—Ä—Ç–æ—á–µ–∫
- `Player.mod_*` ‚Äî –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ—Ç —Ç–∞–ª–∞–Ω—Ç–æ–≤ (server-only)

**–ö–æ–Ω—Ñ–∏–≥ (balance.json):**
- –°–µ–∫—Ü–∏—è `talents` —Å 29 —Ç–∞–ª–∞–Ω—Ç–∞–º–∏:
  - 14 –æ–±—ã—á–Ω—ã—Ö (fastLegs, spinner, sharpTeeth, glutton, thickSkin, economical, recharge, aggressor, sturdy, accelerator, anchor, crab, bloodlust, secondWind)
  - 10 —Ä–µ–¥–∫–∏—Ö (poison, frost, vampire, vacuum, motor, ricochet, piercing, longDash, backNeedles, toxic)
  - 5 —ç–ø–∏—á–µ—Å–∫–∏—Ö (lightning, doubleActivation, explosion, leviathan, invisible)
- `talentPool` –ø–æ —Ä–µ–¥–∫–æ—Å—Ç—è–º
- `cardChoiceTimeoutSec: 12`

**–°–µ—Ä–≤–µ—Ä (ArenaRoom.ts):**
- `talentCardSystem()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–∞–ª–∞–Ω—Ç–æ–≤
- `applyTalentCardChoice()` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞
- `addTalentToPlayer()` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∞–ø–≥—Ä–µ–π–¥ —Ç–∞–ª–∞–Ω—Ç–∞
- `getTalentConfig()` / `getTalentRarity()` ‚Äî —Ö–µ–ª–ø–µ—Ä—ã
- `recalculateTalentModifiers()` ‚Äî –ø–µ—Ä–µ—Å—á—ë—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
- `generateTalentCard()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Å —É—á—ë—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- `tryGenerateNextTalentCard()` ‚Äî –æ—á–µ—Ä–µ–¥—å –∫–∞—Ä—Ç–æ—á–µ–∫
- `awardTalentToPlayer()` ‚Äî –≤—ã–¥–∞—á–∞ –∏–∑ —Å—É–Ω–¥—É–∫–∞
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `talentChoice` –≤ input

**–¢–∏–ø—ã (config.ts):**
- `TalentConfig` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü–∞—Ä—Å–∏–Ω–≥ —Å–µ–∫—Ü–∏–∏ talents –≤ parseBalanceConfig()
- `readStringArray()` helper

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ç–∞–ª–∞–Ω—Ç–æ–≤

| –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä | –≠—Ñ—Ñ–µ–∫—Ç |
|-------------|--------|
| `mod_speedLimitBonus` | +% –∫ –ª–∏–º–∏—Ç—É —Å–∫–æ—Ä–æ—Å—Ç–∏ |
| `mod_turnBonus` | +% –∫ –ø–æ–≤–æ—Ä–æ—Ç—É |
| `mod_biteDamageBonus` | +% –∫ —É—Ä–æ–Ω—É —É–∫—É—Å–æ–º |
| `mod_orbMassBonus` | +% –º–∞—Å—Å—ã –æ—Ç –ø—É–∑—ã—Ä–µ–π |
| `mod_abilityCostReduction` | ‚àí% —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É–º–µ–Ω–∏–π |
| `mod_cooldownReduction` | ‚àí% –∫—É–ª–¥–∞—É–Ω–æ–≤ |
| `mod_allDamageReduction` | ‚àí% –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ —É—Ä–æ–Ω–∞ |
| `mod_thrustForwardBonus` | +% –º–∞—Ä—à–µ–≤–æ–π —Ç—è–≥–∏ |
| `mod_thrustReverseBonus` | +% —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Ç—è–≥–∏ |
| `mod_thrustLateralBonus` | +% –±–æ–∫–æ–≤–æ–π —Ç—è–≥–∏ |
| `mod_killMassBonus` | +% –º–∞—Å—Å—ã –æ—Ç —É–±–∏–π—Å—Ç–≤ |
| `mod_respawnMass` | –ú–∞—Å—Å–∞ –ø—Ä–∏ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–∏ |

### –ü—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ npm run build ‚Äî ok
- ‚úÖ npm run test (determinism) ‚Äî passed

### –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ —Å–ª–æ—Ç–æ–≤
| –£—Ä–æ–≤–µ–Ω—å | –ú–∞—Å—Å–∞ | –°–æ–±—ã—Ç–∏–µ |
|---------|-------|---------|
| 1 | 100 –∫–≥ | –°—Ç–∞—Ä—Ç (—Å–ª–æ—Ç 0 = –∫–ª–∞—Å—Å–æ–≤–æ–µ —É–º–µ–Ω–∏–µ) |
| 2 | 200 –∫–≥ | ‚Äî |
| 3 | 300 –∫–≥ | –°–ª–æ—Ç 1 —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ –≤—ã–±–æ—Ä–∞ |
| 4 | 500 –∫–≥ | ‚Äî |
| 5 | 800 –∫–≥ | –°–ª–æ—Ç 2 —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ –≤—ã–±–æ—Ä–∞ |

### –ö–∞—Ä—Ç–æ—á–∫–∏ –≤—ã–±–æ—Ä–∞ —É–º–µ–Ω–∏–π
- 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏–∑ –ø—É–ª–∞: `pull`, `projectile`, `spit`, `bomb`, `push`, `mine`
- –¢–∞–π–º–µ—Ä 12 —Å–µ–∫ ‚Üí –∞–≤—Ç–æ–≤—ã–±–æ—Ä –ø–µ—Ä–≤–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
- –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è —É–∂–µ –∑–∞–Ω—è—Ç—ã–µ —Å–ª–æ—Ç—ã

### –°–ª–æ—Ç—ã —É–º–µ–Ω–∏–π
- `abilitySlot0` ‚Äî –∫–ª–∞—Å—Å–æ–≤–æ–µ —É–º–µ–Ω–∏–µ (dash/shield/slow)
- `abilitySlot1` ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ level 3
- `abilitySlot2` ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ level 5

### Codex Review Fix (28 –¥–µ–∫ 2025)
| –ü—Ä–æ–±–ª–µ–º–∞ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|----------|-------------|
| HIGH: GCD –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª—Å—è –ø—Ä–∏ —É–∫—É—Å–µ –ø–æ —â–∏—Ç—É | + `gcdReadyTick` –ø–æ—Å–ª–µ —Å–Ω—è—Ç–∏—è —â–∏—Ç–∞ |
| MEDIUM: GCD –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª—Å—è –ø—Ä–∏ —É–∫—É—Å–µ invuln —Ü–µ–ª–∏ | + `gcdReadyTick` –ø–æ—Å–ª–µ —Ä–∞–Ω–Ω–µ–≥–æ return |

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ GDD v3.3
| –î–æ–∫—É–º–µ–Ω—Ç | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|----------|------------|
| `GDD-Core.md` | –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –∫–ª–∞—Å—Å—ã, –º–∞—Å—Å–∞, —Ñ–∞–∑—ã, GCD |
| `GDD-Combat.md` | –ë–æ–π, –∑–æ–Ω—ã —Å–ª–∞–π–º–∞, —É—Ä–æ–Ω, —ç—Ñ—Ñ–µ–∫—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª—è |
| `GDD-Abilities.md` | –£–º–µ–Ω–∏—è, —Å–ª–æ—Ç—ã, —É–ª—É—á—à–µ–Ω–∏—è |
| `GDD-Talents.md` | –¢–∞–ª–∞–Ω—Ç—ã, —Ä–µ–¥–∫–æ—Å—Ç–∏, –∫–∞—Ä—Ç–æ—á–∫–∏ |
| `GDD-Chests.md` | –°—É–Ω–¥—É–∫–∏, –æ–±—Ä—É—á–∏, —É—Å–∏–ª–µ–Ω–∏—è |
| `GDD-Arena.md` | –ö–∞—Ä—Ç—ã, –∑–æ–Ω—ã —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è |
| `GDD-Glossary.md` | –ï–¥–∏–Ω—ã–π –≥–ª–æ—Å—Å–∞—Ä–∏–π —Ç–µ—Ä–º–∏–Ω–æ–≤ |

## –ù–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ (—Ç–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è)

### Colored Scatter Orbs (—Ü–≤–µ—Ç–Ω—ã–µ –ø—É–∑—ã—Ä–∏ —É—Ä–æ–Ω–∞)
–ü—Ä–∏ –ª—é–±–æ–º —É—Ä–æ–Ω–µ (—É–∫—É—Å, —Å–Ω–∞—Ä—è–¥) –º–∞—Å—Å–∞ –∂–µ—Ä—Ç–≤—ã –≤—ã–ª–µ—Ç–∞–µ—Ç —Ü–≤–µ—Ç–Ω—ã–º–∏ –ø—É–∑—ã—Ä—è–º–∏:
| classId | –ö–ª–∞—Å—Å | –¶–≤–µ—Ç scatter orbs |
|---------|-------|-------------------|
| 0 | Hunter | #4ade80 (–∑–µ–ª—ë–Ω—ã–π) |
| 1 | Warrior | #f87171 (–∫—Ä–∞—Å–Ω—ã–π) |
| 2 | Collector | #60a5fa (—Å–∏–Ω–∏–π) |

- colorId = classId + 10 –¥–ª—è scatter orbs
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å: –≤–∏–¥–Ω–æ –∫—Ç–æ –ø–æ–ª—É—á–∏–ª —É—Ä–æ–Ω –ø–æ —Ü–≤–µ—Ç—É –ø—É–∑—ã—Ä–µ–π

### biteResistPct (–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —É–∫—É—Å–∞–º)
| –ö–ª–∞—Å—Å | biteResistPct |
|-------|---------------|
| Hunter | 0 |
| Warrior | 0.15 (‚àí15% –ø–æ—Ç–µ—Ä—å) |

- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ `processCombat()` –∏ `applyProjectileDamage()`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∑–∏—Å—Ç: 50% (cap)

### Projectile (–í—ã–±—Ä–æ—Å) ‚Äî Universal Ability Slot 1
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –ö–ª–∞–≤–∏—à–∞ | 2 |
| Slot | 1 |
| –°—Ç–æ–∏–º–æ—Å—Ç—å | 2% –º–∞—Å—Å—ã |
| –ö—É–ª–¥–∞—É–Ω | 3 —Å–µ–∫ |
| –°–∫–æ—Ä–æ—Å—Ç—å | 400 –º/—Å |
| –î–∞–ª—å–Ω–æ—Å—Ç—å | 300 –º |
| –£—Ä–æ–Ω | 15% –º–∞—Å—Å—ã —Ü–µ–ª–∏ |

**–ú–µ—Ö–∞–Ω–∏–∫–∏:**
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —â–∏—Ç–æ–º (—â–∏—Ç —Å–Ω–∏–º–∞–µ—Ç—Å—è)
- –¢—Ä–∏–≥–≥–µ—Ä–∏—Ç Last Breath
- Scatter orbs 50% —É—Ä–æ–Ω–∞ (—Ü–≤–µ—Ç –∂–µ—Ä—Ç–≤—ã)

## –ü—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ npm run build ‚Äî ok
- ‚úÖ npm run test (determinism) ‚Äî passed

## GDD 3.3 ‚Äî –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (GDD-Combat.md)
| –ó–æ–Ω–∞ | –£—Ä–æ–Ω –∂–µ—Ä—Ç–≤–µ | –ê—Ç–∞–∫—É—é—â–µ–º—É | –í –ø—É–∑—ã—Ä–∏ |
|------|-------------|------------|----------|
| –ë–æ–∫ | 20% | 10% | 10% |
| –•–≤–æ—Å—Ç | 30% (√ó1.5) | 15% | 15% |

- `biteMassPercent = 10%` ‚Äî –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä —É–∫—É—Å–∞
- `invulnAfterDamageSec = 0.2` ‚Äî –Ω–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å –ø–æ—Å–ª–µ —É—Ä–æ–Ω–∞
- –¢–æ–∫—Å–∏—á–Ω–∞—è –ª—É–∂–∞ –ø—Ä–∏ –≥–∏–±–µ–ª–∏ (20–º, 3—Å–µ–∫, -1%/—Å–µ–∫)
- –ü—É–∑—ã—Ä–∏ –ø—Ä–∏ –≥–∏–±–µ–ª–∏: 6-8 —à—Ç. —Ü–≤–µ—Ç–∞ –∫–ª–∞—Å—Å–∞

### –¢–∞–ª–∞–Ω—Ç—ã (GDD-Talents.md)
| –†–µ–¥–∫–æ—Å—Ç—å | –¶–≤–µ—Ç | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----------|------|----------|
| –û–±—ã—á–Ω—ã–π | –°–µ—Ä—ã–π | –ö–∞—Ä—Ç–æ—á–∫–∏, —Å—É–Ω–¥—É–∫–∏ |
| –†–µ–¥–∫–∏–π | –°–∏–Ω–∏–π | –ö–∞—Ä—Ç–æ—á–∫–∏, —Å—É–Ω–¥—É–∫–∏ |
| –≠–ø–∏—á–µ—Å–∫–∏–π | –§–∏–æ–ª–µ—Ç–æ–≤—ã–π | –ö–∞—Ä—Ç–æ—á–∫–∏, —Å—É–Ω–¥—É–∫–∏ |

- 16 –æ–±—ã—á–Ω—ã—Ö —Ç–∞–ª–∞–Ω—Ç–æ–≤ (—É—Ä–æ–≤–Ω–∏ 1-3)
- 10 —Ä–µ–¥–∫–∏—Ö —Ç–∞–ª–∞–Ω—Ç–æ–≤
- 5 —ç–ø–∏—á–µ—Å–∫–∏—Ö —Ç–∞–ª–∞–Ω—Ç–æ–≤

### –£–º–µ–Ω–∏—è (GDD-Abilities.md)
- **–†—ã–≤–æ–∫**: 80–º, 0.3—Å–µ–∫, 3% –º–∞—Å—Å—ã, CD 5—Å–µ–∫
- **–©–∏—Ç**: 2.5—Å–µ–∫, 4% –º–∞—Å—Å—ã, CD 8—Å–µ–∫
- **–ü—Ä–∏—Ç—è–∂–µ–Ω–∏–µ**: r=150–º, 1.5—Å–µ–∫, 1.5% –º–∞—Å—Å—ã, CD 6—Å–µ–∫
- **–í—ã–±—Ä–æ—Å**: 400–º/—Å, 300–º, 15% —É—Ä–æ–Ω–∞, CD 3—Å–µ–∫

### –ó–æ–Ω—ã (GDD-Arena.md)
| –ó–æ–Ω–∞ | –≠—Ñ—Ñ–µ–∫—Ç | –ò–Ω–¥–∏–∫–∞—Ü–∏—è |
|------|--------|----------|
| –ù–µ–∫—Ç–∞—Ä | +1% –º–∞—Å—Å—ã/—Å–µ–∫ | –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è |
| –õ—ë–¥ | √ó0.3 —Ç—Ä–µ–Ω–∏–µ | –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è |
| –°–ª–∏–∑—å | √ó0.5 —Å–∫–æ—Ä–æ—Å—Ç—å | –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è |
| –õ–∞–≤–∞ | ‚àí2% –º–∞—Å—Å—ã/—Å–µ–∫ | **–û–ü–ê–°–ù–û–°–¢–¨** |
| –¢—É—Ä–±–æ | √ó1.4 —Å–∫–æ—Ä–æ—Å—Ç—å | –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è |

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ SlimeArena-Plan-v3.3.md)

### –ü—Ä–æ—Ç–æ—Ç–∏–ø —è–¥—Ä–∞ (‚úÖ –ó–ê–í–ï–†–®–Å–ù)
–í—Å–µ 14 –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

### Gameplay MVP (üèóÔ∏è –í –ü–†–û–¶–ï–°–°–ï)

#### 3.2.1. –ö–ª–∞—Å—Å—ã –∏ —É–º–µ–Ω–∏—è
- [x] 3 –∫–ª–∞—Å—Å–∞ (–ø–∞—Å—Å–∏–≤—ã)
- [x] –†—ã–≤–æ–∫ (–û—Ö–æ—Ç–Ω–∏–∫)
- [x] –©–∏—Ç (–í–æ–∏–Ω)
- [ ] –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ (–°–æ–±–∏—Ä–∞—Ç–µ–ª—å)
- [ ] `gcdTicks=3` + –æ—á–µ—Ä–µ–¥—å (max 1)
- [ ] –°–ª–æ—Ç—ã —É–º–µ–Ω–∏–π 2 –∏ 3
- [ ] –û–±—â–∏–π –ø—É–ª: –ü—Ä–∏—Ç—è–∂–µ–Ω–∏–µ, –í—ã–±—Ä–æ—Å, –ü–ª–µ–≤–æ–∫, –ë–æ–º–±–∞, –û—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ, –ú–∏–Ω–∞

#### 3.2.2. –°—É–Ω–¥—É–∫–∏ –∏ —É—Å–∏–ª–µ–Ω–∏—è
- [ ] –°—É–Ω–¥—É–∫–∏: —Å–ø–∞–≤–Ω, —Ñ–∏–∑–∏–∫–∞, —Ç–∏–ø—ã
- [ ] –û–±—Ä—É—á–∏: –º–µ—Ö–∞–Ω–∏–∫–∞ –ª–æ–º–∞–Ω–∏—è
- [ ] –ù–∞–≥—Ä–∞–¥–∞: —Ç–∞–ª–∞–Ω—Ç + –ø—É–∑—ã—Ä–∏
- [ ] `BoostSystem`
- [ ] –£—Å–∏–ª–µ–Ω–∏—è: –Ø—Ä–æ—Å—Ç—å, –£—Å–∫–æ—Ä–µ–Ω–∏–µ, –ó–∞—â–∏—Ç–∞, –ñ–∞–¥–Ω–æ—Å—Ç—å

#### 3.2.3. –ê—Ä–µ–Ω–∞
- [ ] –†–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç (800/1200/1600)
- [ ] –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–π –∞—Ä–µ–Ω—ã
- [ ] –ó–æ–Ω—ã: –ù–µ–∫—Ç–∞—Ä, –õ—ë–¥, –°–ª–∏–∑—å, –õ–∞–≤–∞, –¢—É—Ä–±–æ
- [ ] –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è: –£–∑–∫–∏–π –ø—Ä–æ—Ö–æ–¥, –°—Ç–æ–ª–±, –®–∏–ø—ã
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã (—Ñ–∏–Ω–∞–ª)

#### 3.2.4. –¢–∞–ª–∞–Ω—Ç—ã –∏ –∫–∞—Ä—Ç–æ—á–∫–∏
- [ ] `TalentSystem`: —É—Ä–æ–≤–Ω–∏ 1-3
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∏: —Ñ–æ—Ä–º–∞—Ç 1 –∏–∑ 3, –æ—á–µ—Ä–µ–¥—å 3, —Ç–∞–π–º–µ—Ä 12 —Å–µ–∫
- [ ] 31 —Ç–∞–ª–∞–Ω—Ç (16 –æ–±—ã—á–Ω—ã—Ö + 10 —Ä–µ–¥–∫–∏—Ö + 5 —ç–ø–∏—á–µ—Å–∫–∏—Ö)

#### 3.2.5. –ë–æ–µ–≤–∫–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å
- [ ] –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ –ø–∞—Å—Ç—è–º–∏ (—Ä–∞–∑–Ω–∏—Ü–∞ 10%)
- [ ] –¢–æ–∫—Å–∏—á–Ω–∞—è –ª—É–∂–∞ –ø—Ä–∏ –≥–∏–±–µ–ª–∏
- [ ] –≠—Ñ—Ñ–µ–∫—Ç: –û–≥–ª—É—à–µ–Ω–∏–µ (0.3 —Å–µ–∫)
- [ ] –≠—Ñ—Ñ–µ–∫—Ç: –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ (–¥–æ 80%)
- [ ] –≠—Ñ—Ñ–µ–∫—Ç: –ù–µ–≤–∏–¥–∏–º–æ—Å—Ç—å (1.5 —Å–µ–∫)
- [ ] –ü—É–∑—ã—Ä–∏ –ø—Ä–∏ –≥–∏–±–µ–ª–∏ –ø–æ –∫–ª–∞—Å—Å—É (6-8 —à—Ç.)
