# Product Context
Зачем существует этот проект и какие проблемы он решает.

**Версия GDD:** 3.3

## Проблемы, которые мы решаем
- Игрокам нужна быстрая соревновательная аркада, которая стабильно работает в браузере и одинаково ведёт себя на всех устройствах.
- Команде разработки нужна предсказуемая, детерминированная серверная симуляция для упрощения отладки и избежания рассинхрона.
- Необходим централизованный механизм настройки баланса (урон, здоровье, способности) без правок кода.
- Важно чёткое разделение ответственности: клиент — ввод и отображение, сервер — правила игры и состояние.

## Как это должно работать
- Игрок заходит на веб-клиент, выбирает класс и подключается к арене через Colyseus-сервер.
- Клиент отправляет на сервер только команды ввода (`InputCommand`), без прямой передачи позиций или урона.
- Сервер раз в фиксированный тик (30 Гц) обновляет состояние мира по единым правилам с детерминированным RNG.
- Баланс загружается из конфигурации, состояние игроков хранится в схеме `GameState`.
- Клиент получает снапшоты состояния и использует U2-стиль предиктивного сглаживания.
- Результат: отзывчивое управление, понятные исходы столкновений, безопасное изменение баланса.

## Ключевые механики (GDD v3.3)

### Масса = Здоровье (GDD-Core.md)
- Отдельного HP нет. Масса — единственный ресурс.
- Минимум 50 кг — гибель.
- Старт 100 кг, респаун 100 кг через 2 сек.
- Респаун-щит 5 сек.

### Пузыри (GDD-Core.md)
| Цвет | Плотность | Описание |
|------|-----------|----------|
| Зелёный | 0.2 | Лёгкий, крупный |
| Синий | 0.3 | Средний |
| Красный | 0.4 | Плотный |
| Золотой | 0.5 | Самый плотный |

### Сундуки (GDD-Chests.md)
- 3 типа: rare (0 обручей), epic (1), gold (2)
- Физика сундуков (масса, сопротивление)
- Спорная механика — несколько игроков могут ломать обручи
- Награда: талант + золотые пузыри
