# Tech Context
Технологический стек и ограничения.

## Структура репозитория
- `client/`: Фронтенд-приложение (Vite + Canvas 2D).
- `server/`: Бэкенд-приложение (Colyseus + Node.js).
- `shared/`: Общий код, типы и конфигурации для клиента и сервера.
- `config/`: Централизованные файлы игрового баланса (JSON).
- `assets/`: Игровые ресурсы (спрайты, графика).
- `docs/`: Техническая документация и GDD.
- `scripts/`: Утилиты для разработки и автоматизации.
- `tests/`: Тесты (включая проверку детерминизма).
- `.github/`: CI/CD пайплайны и правила репозитория.

## Стек технологий
- **Runtime**: Node.js 18+
- **Frontend**: Vite, TypeScript, Canvas 2D
- **Backend**: Colyseus (WebSockets), TypeScript
- **Monorepo**: npm workspaces
- **CI/CD**: GitHub Actions

## CI/CD и окружения
- **GitHub Actions**:
    - `ci.yml`: Автоматическая сборка (`npm run build`) при создании Pull Request в ветку `main`.
    - `branch-protection.yml`: Проверка на прямые пуши в `main`. Рекомендуется использовать PR.
- **Docker**:
    - Имеется `docker/docker-compose.yml` для локального развертывания.
    - *Примечание*: Файлы `docker/server.Dockerfile` и `docker/client.Dockerfile` на данный момент отсутствуют в репозитории, что требует исправления для работы Docker-окружения.

## Технические ограничения
- **Тикрейт**: 30 тиков в секунду (фиксированный).
- **Детерминизм**: Симуляция должна быть идентичной на сервере и клиенте (используется кастомный `Rng`).
- **Сетевой протокол**: Colyseus (JSON/Schema), планируется переход на Protobuf.
